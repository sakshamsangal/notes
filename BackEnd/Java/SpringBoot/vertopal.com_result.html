<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>spring aop</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
/*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
.tabs {
    margin-bottom: 1.25em;
}

.tablist > ul {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
    margin: 0;
    padding: 0;
}

.tablist > ul li {
    align-items: center;
    background-color: #fff;
    cursor: pointer;
    display: flex;
    font-weight: bold;
    line-height: 1.5;
    padding: 0.25em 1em;
    position: relative;
}

.tablist > ul li:focus-visible {
    outline: none;
}

.tablist.ulist,
.tablist.ulist > ul li {
    margin: 0;
}

.tablist.ulist > ul li + li {
    margin-left: 0.25em;
}

.tabs .tablist li::after {
    content: "";
    display: block;
    height: 1px;
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
}

.tabs.is-loading .tablist li:not(:first-child),
.tabs:not(.is-loading) .tablist li:not(.is-selected) {
    background-color: #f5f5f5;
}

.tabs.is-loading .tablist li:first-child::after,
.tabs:not(.is-loading) .tablist li.is-selected::after {
    background-color: #fff;
}

/*
.tabs:not(.is-loading) .tablist li,
.tabs:not(.is-loading) .tablist li::after {
  transition: background-color 200ms ease-in-out;
}
*/

.tablist > ul p {
    line-height: inherit;
    margin: 0;
}

.tabpanel {
    background-color: #fff;
    padding: 1.25em;
}

.tablist > ul li,
.tabpanel {
    border: 1px solid #dcdcdc;
}

.tablist > ul li {
    border-bottom: 0;
}

.tabs.is-loading .tabpanel + .tabpanel,
.tabs:not(.is-loading) .tabpanel.is-hidden {
    display: none;
}

.tabpanel > :first-child {
    margin-top: 0;
}

/* #content is a signature of the Asciidoctor standalone HTML output */
#content .tabpanel > :last-child,
#content .tabpanel > :last-child > :last-child,
#content .tabpanel > :last-child > :last-child > li:last-child > :last-child {
    margin-bottom: 0;
}

.tablecontainer {
    overflow-x: auto;
}

#content .tablecontainer {
    margin-bottom: 1.25em;
}

#content .tablecontainer > table.tableblock {
    margin-bottom: 0;
}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_spring_aop">spring aop</a>
<ul class="sectlevel2">
<li><a href="#_step_1">step 1</a></li>
<li><a href="#_step_2">step 2</a></li>
</ul>
</li>
<li><a href="#_rest_controller">Rest Controller</a></li>
<li><a href="#_convert_string_to_uppercase_by_spring_batch">convert string[] to uppercase by spring batch</a>
<ul class="sectlevel2">
<li><a href="#_pom">pom</a></li>
<li><a href="#_property">property</a></li>
<li><a href="#_main">Main</a></li>
<li><a href="#_test">Test</a></li>
<li><a href="#_myreader">MyReader</a></li>
<li><a href="#_mywriter">MyWriter</a></li>
<li><a href="#_myprocessor">MyProcessor</a></li>
<li><a href="#_myjobexecutionlistener">MyJobExecutionListener</a></li>
<li><a href="#_batchconfig">BatchConfig</a></li>
<li><a href="#_output">output</a></li>
</ul>
</li>
<li><a href="#_csv_to_mysql">CSV to MySQL</a>
<ul class="sectlevel2">
<li><a href="#_sql">sql</a></li>
<li><a href="#_pom_2">pom</a></li>
<li><a href="#_property_2">property</a></li>
<li><a href="#_main_2">Main</a></li>
<li><a href="#_test_2">Test</a></li>
<li><a href="#_batchconfig_2">BatchConfig</a></li>
<li><a href="#_pojo">Pojo</a></li>
<li><a href="#_csv">csv</a></li>
<li><a href="#_output_2">Output</a></li>
</ul>
</li>
<li><a href="#_profiling">profiling</a>
<ul class="sectlevel2">
<li><a href="#_switch_by_application_properties">switch by application.properties</a></li>
<li><a href="#_switch_by_vm_arguments">switch by VM arguments</a></li>
<li><a href="#_database_connection">database connection</a></li>
<li><a href="#_show_sql_query_on_console">show sql query on console</a></li>
<li><a href="#_set_prefix_and_suffix_for_view_resolve">set prefix and suffix for view resolve</a></li>
<li><a href="#_make_root_error_and_banner_off">make root = error and banner = off</a></li>
</ul>
</li>
<li><a href="#_print_message_from_sender_to_reciver_using_jms">print message from sender to reciver using jms</a>
<ul class="sectlevel2">
<li><a href="#_requirements">requirements</a></li>
<li><a href="#_pom_3">pom</a></li>
<li><a href="#_property_3">property</a></li>
<li><a href="#_main_3">main</a></li>
<li><a href="#_messagesender">MessageSender</a></li>
<li><a href="#_mylistener">MyListener</a></li>
<li><a href="#_test_3">test</a></li>
<li><a href="#_output_3">output</a></li>
<li><a href="#_create_insert_view">create insert view</a></li>
<li><a href="#_controller">controller</a></li>
<li><a href="#_my_entity_811_iml">my-[Entity]-811.iml</a></li>
<li><a href="#_send_insertentityview_jsp_view">send insert[Entity]View.jsp view</a></li>
<li><a href="#_insert_data_and_send_view_with_entity_object">insert data and send view with [Entity] object</a></li>
<li><a href="#_insert_service">insert service</a></li>
<li><a href="#_repo">repo</a></li>
<li><a href="#_pom_4">pom</a></li>
<li><a href="#_for_view_resolving">for view resolving</a></li>
<li><a href="#_to_connect_with_database">to connect with database</a></li>
</ul>
</li>
<li><a href="#_project_structure">Project structure</a>
<ul class="sectlevel2">
<li><a href="#_spring_boot_application_properties_value_not_populating">Spring Boot application.properties value not populating</a></li>
<li><a href="#_getcontroller">getController</a></li>
</ul>
</li>
<li><a href="#_logback_xml">logback.xml</a>
<ul class="sectlevel2">
<li><a href="#_locationcontroller">LocationController</a></li>
<li><a href="#_locationrestcontroller">LocationRestController</a></li>
<li><a href="#_location">Location</a></li>
<li><a href="#_main_4">Main</a></li>
<li><a href="#_locationrepository">LocationRepository</a></li>
<li><a href="#_locationservice">LocationService</a></li>
<li><a href="#_email">Email</a></li>
<li><a href="#_report">Report</a></li>
<li><a href="#_display">display</a></li>
<li><a href="#_insert">insert</a></li>
<li><a href="#_update">update</a></li>
</ul>
</li>
<li><a href="#_display_page">Display page</a></li>
<li><a href="#_insert_page">Insert page</a>
<ul class="sectlevel2">
<li><a href="#_include">include</a></li>
<li><a href="#_html_format">HTML format</a></li>
<li><a href="#_custom_css">custom css</a></li>
<li><a href="#_form">Form</a></li>
</ul>
</li>
<li><a href="#_report_page">Report page</a></li>
<li><a href="#_thymeleaf">thymeleaf</a></li>
<li><a href="#_update_page">Update page</a></li>
<li><a href="#_database_caching">Database caching</a>
<ul class="sectlevel2">
<li><a href="#_pom_5">pom</a></li>
<li><a href="#_business_logic">Business logic</a></li>
<li><a href="#_in_main_class">in main class</a></li>
<li><a href="#_in_product_class">in Product class</a></li>
<li><a href="#_in_rest_controller">in rest controller</a></li>
</ul>
</li>
<li><a href="#_repository">Repository</a>
<ul class="sectlevel2">
<li><a href="#_jpa">JPA</a></li>
<li><a href="#_aop">aop</a></li>
<li><a href="#_global">global</a></li>
<li><a href="#_output_4">output</a></li>
<li><a href="#_string_to_file_object">string to file object</a></li>
<li><a href="#_xml_to_pojo">xml to pojo</a></li>
<li><a href="#_xml_validation">xml validation</a></li>
<li><a href="#_jwt">jwt</a></li>
</ul>
</li>
<li><a href="#_service_design_pattern">Service design pattern</a>
<ul class="sectlevel2">
<li><a href="#_imports">Imports</a></li>
<li><a href="#_class">Class</a></li>
<li><a href="#_field">Field</a></li>
<li><a href="#_constructor">constructor</a></li>
</ul>
</li>
<li><a href="#_service_methods">Service methods</a>
<ul class="sectlevel2">
<li><a href="#_insert_2">insert</a></li>
<li><a href="#_display_2">display</a></li>
<li><a href="#_delete">delete</a></li>
<li><a href="#_update_2">update</a></li>
</ul>
</li>
<li><a href="#_swagger">swagger</a>
<ul class="sectlevel2">
<li><a href="#_pom_6">pom</a></li>
<li><a href="#_url">url</a></li>
<li><a href="#_swaggerconfig">SwaggerConfig</a></li>
<li><a href="#_apioperation">ApiOperation</a></li>
<li><a href="#_main_5">Main</a></li>
</ul>
</li>
<li><a href="#_xml_validation_in_java">XML validation in java</a>
<ul class="sectlevel2">
<li><a href="#_input">input</a></li>
<li><a href="#_output_5">output</a></li>
<li><a href="#_solution">solution</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_spring_aop">spring aop</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_step_1">step 1</h3>
<div class="ulist">
<ul>
<li>
<p>add dependency</p>
<div class="ulist">
<ul>
<li>
<p>aop</p>
</li>
<li>
<p>boot starter/web</p>
</li>
<li>
<p>lombok</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_2">step 2</h3>
<div class="ulist">
<ul>
<li>
<p>make advice class with pointcut annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>com/example/demo/advice/MilkAdvice.java</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.advice</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.aspectj.lang.ProceedingJoinPoint</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.aspectj.lang.annotation.Around</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.aspectj.lang.annotation.Aspect</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.aspectj.lang.annotation.Pointcut</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Component</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.fasterxml.jackson.databind.ObjectMapper</span>;

<span style="color:#007">@Aspect</span>
<span style="color:#007">@Component</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MilkAdvice</span> {


    <span style="color:#007">@Pointcut</span>(value = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">execution(* com.example.demo.controller.*.*(..) )</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> myPointcut() {

    }

    <span style="color:#007">@Around</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">myPointcut()</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">Object</span> applicationLogger(ProceedingJoinPoint pjp) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#0a8;font-weight:bold">Throwable</span> {
        ObjectMapper mapper = <span style="color:#080;font-weight:bold">new</span> ObjectMapper();
        <span style="color:#0a8;font-weight:bold">String</span> methodName = pjp.getSignature().getName();
        <span style="color:#0a8;font-weight:bold">String</span> className = pjp.getTarget().getClass().toString();
        <span style="color:#0a8;font-weight:bold">Object</span><span style="color:#339;font-weight:bold">[]</span> array = pjp.getArgs();
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">=================================</span><span style="color:#710">&quot;</span></span>);
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Unified logging</span><span style="color:#710">&quot;</span></span>);
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">methodName = </span><span style="color:#710">&quot;</span></span> + methodName);
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">className = </span><span style="color:#710">&quot;</span></span> + className);
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Unified logging request: </span><span style="color:#710">&quot;</span></span> + mapper.writeValueAsString(array));
        <span style="color:#0a8;font-weight:bold">Object</span> object = pjp.proceed();
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Unified logging response: </span><span style="color:#710">&quot;</span></span> + mapper.writeValueAsString(object));
        log.info(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">=================================</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#080;font-weight:bold">return</span> object;
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.config</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.annotation.Bean</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.annotation.Configuration</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.client.RestTemplate</span>;

<span style="color:#007">@Configuration</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">BeanConfig</span> {
    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> RestTemplate restTemplate() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> RestTemplate();
    }
}


<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.util</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Value</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http</span>.*;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Component</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.util.LinkedMultiValueMap</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.util.MultiValueMap</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.client.RestTemplate</span>;

<span style="color:#007">@Component</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">ConsumeUser</span> {

    <span style="color:#007">@Value</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${endpoint.user}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> userEndpoint;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> RestTemplate restTemplate;


    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> user() {
        <span style="color:#777">// set headers</span>
        HttpHeaders headers = <span style="color:#080;font-weight:bold">new</span> HttpHeaders();
        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);
        headers.add(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Authorization</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Bearer 623c0324-4395-3769-a8b9-49d3c8be91e9</span><span style="color:#710">&quot;</span></span>);

        <span style="color:#777">// set the payload</span>
        MultiValueMap&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">String</span>&gt; map = <span style="color:#080;font-weight:bold">new</span> LinkedMultiValueMap&lt;&gt;();
        map.add(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">title</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">john</span><span style="color:#710">&quot;</span></span>);
        map.add(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">body</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">body test</span><span style="color:#710">&quot;</span></span>);

        HttpEntity&lt;MultiValueMap&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">String</span>&gt;&gt; entity = <span style="color:#080;font-weight:bold">new</span> HttpEntity&lt;&gt;(map, headers);
        log.info(<span style="color:#0a8;font-weight:bold">String</span>.valueOf(entity));

        <span style="color:#777">// String userEndpoint = &quot;https://jsonplaceholder.typicode.com/posts/2&quot;;</span>

        ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; response = restTemplate.exchange(userEndpoint, HttpMethod.POST, entity, <span style="color:#0a8;font-weight:bold">String</span>.class);
        log.info(<span style="color:#0a8;font-weight:bold">String</span>.valueOf(response));
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.util</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Value</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http</span>.*;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Component</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.reactive.function.client.WebClient</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.client.RestTemplate</span>;

<span style="color:#007">@Component</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">ConsumeUser</span> {

    <span style="color:#007">@Value</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${endpoint.user}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> userEndpoint;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> RestTemplate restTemplate;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> user() {
        WebClient webClient = WebClient.create();
        <span style="color:#0a8;font-weight:bold">String</span> str = webClient.get()
                .uri(userEndpoint)
                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)
                .retrieve()
                .bodyToMono(<span style="color:#0a8;font-weight:bold">String</span>.class)
                .block();
        log.info(str);
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@DeleteMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/users/{id}</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteUser(<span style="color:#007">@PathVariable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id) {
    userService.deleteById(id);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#777">// rest controller</span>
<span style="color:#007">@DeleteMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/{id}</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteLocation(<span style="color:#007">@PathVariable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id) {
locationRepository.deleteById(id);
}

<span style="color:#777">// controller</span>
<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">deleteLocation</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> deleteLocation(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id, ModelMap modelMap) {
<span style="color:#777">// Location location = service.getLocationById(id);</span>
Location location = <span style="color:#080;font-weight:bold">new</span> Location();
location.setId(id);
service.deleteLocation(location);
<span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; locations = service.getAllLocations();
modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">locations</span><span style="color:#710">&quot;</span></span>, locations);
<span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocations</span><span style="color:#710">&quot;</span></span>;
}

<span style="color:#777">// service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteLocation(Location location) {
repository.delete(location);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/get</span><span style="color:#710">&quot;</span></span>)
    ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; age() {

        <span style="color:#080;font-weight:bold">return</span> ResponseEntity.ok().body(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom header set</span><span style="color:#710">&quot;</span></span>);
    }

    <span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/customHeader</span><span style="color:#710">&quot;</span></span>)
    ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; age(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">yearOfBirth</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> yearOfBirth) {

        <span style="color:#080;font-weight:bold">return</span> ResponseEntity.ok()
                .header(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom-Header</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">foo</span><span style="color:#710">&quot;</span></span>)
                .body(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom header set</span><span style="color:#710">&quot;</span></span>);
    }


    <span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/customHeader</span><span style="color:#710">&quot;</span></span>)
    ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; age(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">yearOfBirth</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> yearOfBirth) {

        HttpHeaders headers = <span style="color:#080;font-weight:bold">new</span> HttpHeaders();
        headers.add(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom-Header</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">foo</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ResponseEntity&lt;&gt;(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom header set</span><span style="color:#710">&quot;</span></span>, headers, HttpStatus.OK);
    }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/users</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;User&gt; getUsers() {
    <span style="color:#080;font-weight:bold">return</span> userService.findAll();
}

<span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/users/{id}</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> User getUserById(<span style="color:#007">@PathVariable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id) {
    <span style="color:#080;font-weight:bold">return</span> userService.findById(id).orElse(<span style="color:#069">null</span>);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@GetMapping</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; getLocations() {
    <span style="color:#080;font-weight:bold">return</span> locationRepository.findAll();

}


<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/displayLocations</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> displayLocations(ModelMap modelMap) {
    <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; locations = service.getAllLocations();
    modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">locations</span><span style="color:#710">&quot;</span></span>, locations);
    <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocations</span><span style="color:#710">&quot;</span></span>;
}

<span style="color:#777">// service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; getAllLocations() {
    <span style="color:#080;font-weight:bold">return</span> repository.findAll();
}

<span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/{id}</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> Location getLocation(<span style="color:#007">@PathVariable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id) {
    Optional&lt;Location&gt; optionalLocation = locationRepository.findById(id);
    <span style="color:#080;font-weight:bold">return</span> optionalLocation.orElse(<span style="color:#069">null</span>);
}

<span style="color:#088;font-weight:bold">public</span> Location getLocationById(<span style="color:#339;font-weight:bold">int</span> id) {
    Optional&lt;Location&gt; optionalLocation = repository.findById(id);
    <span style="color:#080;font-weight:bold">return</span> optionalLocation.orElse(<span style="color:#069">null</span>);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@PostMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/users</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> User postUser(<span style="color:#007">@RequestBody</span> User user) {
    <span style="color:#080;font-weight:bold">return</span> userService.save(user);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@PostMapping</span>
<span style="color:#088;font-weight:bold">public</span> Location createLocation(<span style="color:#007">@RequestBody</span> Location location) {
<span style="color:#080;font-weight:bold">return</span> locationRepository.save(location);
}

<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/saveLoc</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> saveLocation(<span style="color:#007">@ModelAttribute</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span>) Location location, ModelMap modelMap) {
Location locationSaved = service.saveLocation(location);
<span style="color:#0a8;font-weight:bold">String</span> msg = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Location saved with id: </span><span style="color:#710">&quot;</span></span> + locationSaved.getId();
modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">msg</span><span style="color:#710">&quot;</span></span>, msg);

    <span style="color:#777">// email sending</span>
    <span style="color:#777">// email.sendEmail(&quot;sakshamsangal111@gmail.com&quot;, &quot;Location saved&quot;, &quot;Hi, Location saved&quot;);</span>
    <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">createLocation</span><span style="color:#710">&quot;</span></span>;

}

<span style="color:#088;font-weight:bold">public</span> Location saveLocation(Location location) {
<span style="color:#080;font-weight:bold">return</span> repository.save(location);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@PutMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/users</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> User putUser(<span style="color:#007">@RequestBody</span> User user) {
    <span style="color:#080;font-weight:bold">return</span> userService.save(user);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@PutMapping</span>
<span style="color:#088;font-weight:bold">public</span> Location updateLocation(<span style="color:#007">@RequestBody</span> Location location) {
<span style="color:#080;font-weight:bold">return</span> locationRepository.save(location);

}

<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/showUpdate</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> showUpdate(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id, ModelMap modelMap) {
Location location = service.getLocationById(id);
modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span>, location);
<span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">updateLocation</span><span style="color:#710">&quot;</span></span>;
}

<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/updateLoc</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> updateLocation(<span style="color:#007">@ModelAttribute</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span>) Location location, ModelMap modelMap) {
service.updateLocation(location);
<span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; locations = service.getAllLocations();
modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">locations</span><span style="color:#710">&quot;</span></span>, locations);
<span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocations</span><span style="color:#710">&quot;</span></span>;
}

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> updateLocation(Location location) {
repository.save(location);
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_controller">Rest Controller</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.controller</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RequestMapping</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RestController</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.service.UserService</span>;


<span style="color:#007">@RestController</span>
<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/api</span><span style="color:#710">&quot;</span></span>)
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">UserController</span> {
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> UserService userService;



}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">org.example.controller</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.example.model.request.PenRequest</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.example.model.response.PenResponse</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.swagger.v3.oas.annotations.Operation</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.swagger.v3.oas.annotations.media.Content</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.swagger.v3.oas.annotations.media.Schema</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.swagger.v3.oas.annotations.responses.ApiResponse</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.swagger.v3.oas.annotations.responses.ApiResponses</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http.MediaType</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http.ResponseEntity</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation</span>.*;



<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">PenController</span> {

    <span style="color:#007">@Operation</span>(description = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">this is desc</span><span style="color:#710">&quot;</span></span>, summary = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">this is summary</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#007">@ApiResponses</span>(value = {
            <span style="color:#007">@ApiResponse</span>(responseCode = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">200</span><span style="color:#710">&quot;</span></span>, description = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">success</span><span style="color:#710">&quot;</span></span>, content = {<span style="color:#007">@Content</span>(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = <span style="color:#007">@Schema</span>(implementation = <span style="color:#0a8;font-weight:bold">Object</span>.class))})
    })
    ResponseEntity&lt;PenResponse&gt; postPen(<span style="color:#007">@RequestBody</span> PenRequest penRequest) ;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_convert_string_to_uppercase_by_spring_batch">convert string[] to uppercase by spring batch</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pom">pom</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-batch<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>com.h2database<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>h2<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>runtime<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>test<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_property">property</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">spring.batch.job.enabled=<span style="color:#069">false</span>
spring.main.banner-mode=off
<span style="color:#F00;background-color:#FAA">#</span> logging.level.root=ERROR</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_main">Main</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootApplication</span>
<span style="color:#007">@EnableBatchProcessing</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JarApplication</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
        SpringApplication.run(JarApplication.class, args);
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test">Test</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootTest</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JarApplicationTests</span> {

    <span style="color:#007">@Autowired</span>
    JobLauncher jobLauncher;

    <span style="color:#007">@Autowired</span>
    Job job;

    <span style="color:#007">@Test</span>
    <span style="color:#339;font-weight:bold">void</span> test1() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        JobParameters jobParameters = <span style="color:#080;font-weight:bold">new</span> JobParametersBuilder().addLong(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">time</span><span style="color:#710">&quot;</span></span>, <span style="color:#0a8;font-weight:bold">System</span>.currentTimeMillis())
                .toJobParameters();

        jobLauncher.run(job, jobParameters);
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_myreader">MyReader</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyReader</span> <span style="color:#088;font-weight:bold">implements</span> ItemReader&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> arr = {<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">saksham</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sahitya</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sakshi</span><span style="color:#710">&quot;</span></span>};
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">int</span> count = <span style="color:#00D">0</span>;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> read() {
        <span style="color:#080;font-weight:bold">if</span> (count &lt; arr.length) <span style="color:#080;font-weight:bold">return</span> arr[count++];
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">null</span>;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mywriter">MyWriter</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyWriter</span> <span style="color:#088;font-weight:bold">implements</span> ItemWriter&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; {

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> write(<span style="color:#0a8;font-weight:bold">List</span>&lt;? <span style="color:#088;font-weight:bold">extends</span> <span style="color:#0a8;font-weight:bold">String</span>&gt; list) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {

        <span style="color:#0a8;font-weight:bold">System</span>.out.println(list);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_myprocessor">MyProcessor</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyProcessor</span> <span style="color:#088;font-weight:bold">implements</span> ItemProcessor&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">String</span>&gt; {


    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> process(<span style="color:#0a8;font-weight:bold">String</span> s) {
        <span style="color:#080;font-weight:bold">return</span> s.toUpperCase();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_myjobexecutionlistener">MyJobExecutionListener</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyJobExecutionListener</span> <span style="color:#088;font-weight:bold">implements</span> JobExecutionListener {
    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> beforeJob(JobExecution jobExecution) {
        <span style="color:#0a8;font-weight:bold">System</span>.out.println(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">beforeJob</span><span style="color:#710">&quot;</span></span>);
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> afterJob(JobExecution jobExecution) {
        <span style="color:#0a8;font-weight:bold">System</span>.out.println(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">afterJob</span><span style="color:#710">&quot;</span></span>);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_batchconfig">BatchConfig</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Configuration</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">BatchConfig</span> {


    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> StepBuilderFactory stepBuilderFactory;

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> JobBuilderFactory jobBuilderFactory;

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">public</span> BatchConfig(StepBuilderFactory stepBuilderFactory, JobBuilderFactory jobBuilderFactory) {
        <span style="color:#950">this</span>.stepBuilderFactory = stepBuilderFactory;
        <span style="color:#950">this</span>.jobBuilderFactory = jobBuilderFactory;
    }


    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> Job myJob() {
        <span style="color:#080;font-weight:bold">return</span> jobBuilderFactory.get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">j1</span><span style="color:#710">&quot;</span></span>)
                .incrementer(<span style="color:#080;font-weight:bold">new</span> RunIdIncrementer())
                .listener(myJobExecutionListener())
                .start(myStep())
                .build();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> Step myStep() {
        <span style="color:#080;font-weight:bold">return</span> stepBuilderFactory.get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">s1</span><span style="color:#710">&quot;</span></span>)
                .&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">String</span>&gt;chunk(<span style="color:#00D">1</span>)
                .reader(myReader())
                .processor(myProcessor())
                .writer(myWriter())
                .build();
    }


    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> MyReader myReader() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> MyReader();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> MyProcessor myProcessor() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> MyProcessor();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> MyWriter myWriter() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> MyWriter();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> MyJobExecutionListener myJobExecutionListener() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> MyJobExecutionListener();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_output">output</h3>
<div class="literalblock">
<div class="content">
<pre>2020-12-27 21:32:29.841  INFO 3304 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=j1]] launched with the following parameters: [{time=1609084949733}]
beforeJob
2020-12-27 21:32:29.902  INFO 3304 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [s1]
[SAKSHAM]
[SAHITYA]
[SAKSHI]
2020-12-27 21:32:30.035  INFO 3304 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [s1] executed in 131ms
afterJob
2020-12-27 21:32:30.040  INFO 3304 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=j1]] completed with the following parameters: [{time=1609084949733}] and the following status: [COMPLETED] in 166ms</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_csv_to_mysql">CSV to MySQL</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sql">sql</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><span style="color:#B06;font-weight:bold">create</span> <span style="color:#339;font-weight:bold">database</span> mydb;
use mydb;

<span style="color:#B06;font-weight:bold">create</span> <span style="color:#339;font-weight:bold">table</span> product(
id <span style="color:#0a8;font-weight:bold">int</span> <span style="color:#088;font-weight:bold">auto_increment</span> <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span>,
name <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">20</span>),
description <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">100</span>),
price <span style="color:#0a8;font-weight:bold">decimal</span>(<span style="color:#00D">8</span>,<span style="color:#00D">3</span>)
);

<span style="color:#B06;font-weight:bold">select</span> * <span style="color:#080;font-weight:bold">from</span> product;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pom_2">pom</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>test<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-batch<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>mysql<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>runtime<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_property_2">property</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">spring.batch.job.enabled=<span style="color:#069">false</span>
spring.main.banner-mode=off
<span style="color:#F00;background-color:#FAA">#</span>logging.level.root=ERROR

spring.batch.initialize-schema=ALWAYS</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_main_2">Main</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootApplication</span>
<span style="color:#007">@EnableBatchProcessing</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JarApplication</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
        SpringApplication.run(JarApplication.class, args);
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_2">Test</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootTest</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JarApplicationTests</span> {

    <span style="color:#007">@Autowired</span>
    JobLauncher jobLauncher;

    <span style="color:#007">@Autowired</span>
    Job job;

    <span style="color:#007">@Test</span>
    <span style="color:#339;font-weight:bold">void</span> test1() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        JobParameters jobParameters = <span style="color:#080;font-weight:bold">new</span> JobParametersBuilder().addLong(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">time</span><span style="color:#710">&quot;</span></span>, <span style="color:#0a8;font-weight:bold">System</span>.currentTimeMillis())
                .toJobParameters();

        jobLauncher.run(job, jobParameters);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_batchconfig_2">BatchConfig</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Configuration</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">BatchConfig</span>{

    <span style="color:#088;font-weight:bold">final</span> StepBuilderFactory stepBuilderFactory;

    <span style="color:#088;font-weight:bold">final</span> JobBuilderFactory jobBuilderFactory;

    <span style="color:#088;font-weight:bold">public</span> BatchConfig(<span style="color:#007">@Lazy</span> StepBuilderFactory stepBuilderFactory,<span style="color:#007">@Lazy</span> JobBuilderFactory jobBuilderFactory) {
        <span style="color:#950">this</span>.stepBuilderFactory = stepBuilderFactory;
        <span style="color:#950">this</span>.jobBuilderFactory = jobBuilderFactory;
    }


    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> Job myJob() {
        <span style="color:#080;font-weight:bold">return</span> jobBuilderFactory.get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">j1</span><span style="color:#710">&quot;</span></span>)
                .incrementer(<span style="color:#080;font-weight:bold">new</span> RunIdIncrementer())
                .start(myStep())
                .build();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> Step myStep() {
        <span style="color:#080;font-weight:bold">return</span> stepBuilderFactory.get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">s1</span><span style="color:#710">&quot;</span></span>)
                .&lt;Product, Product&gt;chunk(<span style="color:#00D">1</span>)
                .reader(productItemReader())
                .processor(productItemProcessor())
                .writer(productItemWriter())
                .build();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> ItemReader&lt;Product&gt; productItemReader() {
        FlatFileItemReader&lt;Product&gt; productFlatFileItemReader = <span style="color:#080;font-weight:bold">new</span> FlatFileItemReader&lt;&gt;();
        productFlatFileItemReader.setResource(<span style="color:#080;font-weight:bold">new</span> ClassPathResource(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">products.csv</span><span style="color:#710">&quot;</span></span>));

        DefaultLineMapper&lt;Product&gt; productDefaultLineMapper = <span style="color:#080;font-weight:bold">new</span> DefaultLineMapper&lt;&gt;();
        DelimitedLineTokenizer delimitedLineTokenizer = <span style="color:#080;font-weight:bold">new</span> DelimitedLineTokenizer();

        delimitedLineTokenizer.setNames(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">name</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">description</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">price</span><span style="color:#710">&quot;</span></span>);
        BeanWrapperFieldSetMapper&lt;Product&gt; productBeanWrapperFieldSetMapper = <span style="color:#080;font-weight:bold">new</span> BeanWrapperFieldSetMapper&lt;&gt;();
        productBeanWrapperFieldSetMapper.setTargetType(Product.class);

        productDefaultLineMapper.setLineTokenizer(delimitedLineTokenizer);
        productDefaultLineMapper.setFieldSetMapper(productBeanWrapperFieldSetMapper);

        productFlatFileItemReader.setLineMapper(productDefaultLineMapper);

        <span style="color:#080;font-weight:bold">return</span> productFlatFileItemReader;
    }


    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> ItemProcessor&lt;Product, Product&gt; productItemProcessor() {
        <span style="color:#080;font-weight:bold">return</span> (product) -&gt; {
            product.setPrice(<span style="color:#60E">0.90</span> * product.getPrice());
            <span style="color:#080;font-weight:bold">return</span> product;
        };
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> ItemWriter&lt;Product&gt; productItemWriter(){
        JdbcBatchItemWriter&lt;Product&gt; productJdbcBatchItemWriter = <span style="color:#080;font-weight:bold">new</span> JdbcBatchItemWriter&lt;&gt;();
        productJdbcBatchItemWriter.setDataSource(dataSource());
        productJdbcBatchItemWriter.setItemSqlParameterSourceProvider(<span style="color:#080;font-weight:bold">new</span> BeanPropertyItemSqlParameterSourceProvider&lt;&gt;());
        productJdbcBatchItemWriter.setSql(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">INSERT INTO product(id,name,description,price) VALUES(:id,:name,:description,:price)</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#080;font-weight:bold">return</span>  productJdbcBatchItemWriter;
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">DataSource</span> dataSource() {
        DriverManagerDataSource driverManagerDataSource = <span style="color:#080;font-weight:bold">new</span> DriverManagerDataSource();
        driverManagerDataSource.setDriverClassName(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">com.mysql.cj.jdbc.Driver</span><span style="color:#710">&quot;</span></span>);
        driverManagerDataSource.setUrl(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jdbc:mysql://localhost:3306/mydb</span><span style="color:#710">&quot;</span></span>);
        driverManagerDataSource.setUsername(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">root</span><span style="color:#710">&quot;</span></span>);
        driverManagerDataSource.setPassword(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">root</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#080;font-weight:bold">return</span> driverManagerDataSource;
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pojo">Pojo</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Product</span>{
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">int</span> id;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> name;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> description;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">double</span> price;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> toString() {
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Product{</span><span style="color:#710">&quot;</span></span> +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id=</span><span style="color:#710">&quot;</span></span> + id +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, name='</span><span style="color:#710">&quot;</span></span> + name + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#b0b">\'</span><span style="color:#710">'</span></span> +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, description='</span><span style="color:#710">&quot;</span></span> + description + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#b0b">\'</span><span style="color:#710">'</span></span> +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, price=</span><span style="color:#710">&quot;</span></span> + price +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">}</span><span style="color:#710">'</span></span>;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">int</span> getId() {
        <span style="color:#080;font-weight:bold">return</span> id;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setId(<span style="color:#339;font-weight:bold">int</span> id) {
        <span style="color:#950">this</span>.id = id;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getName() {
        <span style="color:#080;font-weight:bold">return</span> name;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setName(<span style="color:#0a8;font-weight:bold">String</span> name) {
        <span style="color:#950">this</span>.name = name;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getDescription() {
        <span style="color:#080;font-weight:bold">return</span> description;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setDescription(<span style="color:#0a8;font-weight:bold">String</span> description) {
        <span style="color:#950">this</span>.description = description;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">double</span> getPrice() {
        <span style="color:#080;font-weight:bold">return</span> price;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setPrice(<span style="color:#339;font-weight:bold">double</span> price) {
        <span style="color:#950">this</span>.price = price;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_csv">csv</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="csv">main/resources/products.csv
10,pen,awesome,100
20,pencil,poor,200
30,cat,good,300
40,dog,nice,400</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_output_2">Output</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">// in the database
SELECT * FROM mydb.product;

10  pen awesome 90.000
20  pencil  poor    180.000
30  cat good    270.000
40  dog nice    360.000</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_profiling">profiling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>used to switch among properties file</p>
</div>
<div class="paragraph">
<p><code>src/main/resources/application.properties</code></p>
</div>
<div class="sect2">
<h3 id="_switch_by_application_properties">switch by application.properties</h3>
<div class="literalblock">
<div class="content">
<pre>application-dev.properties

application-test.properties

application.properties
    spring.profiles.active=dev // active properties file</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_switch_by_vm_arguments">switch by VM arguments</h3>
<div class="literalblock">
<div class="content">
<pre>delete spring.profiles.active=dev

VM arguments:
-Dspring.profiles.active=dev</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_database_connection">database connection</h3>
<div class="literalblock">
<div class="content">
<pre># database connection
spring.datasource.url=jdbc:mysql://localhost:3306/projectdb
spring.datasource.username=root
spring.datasource.password=root</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_show_sql_query_on_console">show sql query on console</h3>
<div class="literalblock">
<div class="content">
<pre>spring.jpa.show-sql=true</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_set_prefix_and_suffix_for_view_resolve">set prefix and suffix for view resolve</h3>
<div class="literalblock">
<div class="content">
<pre>spring.mvc.view.prefix=/WEB-INF/view/
spring.mvc.view.suffix=.jsp</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_make_root_error_and_banner_off">make root = error and banner = off</h3>
<div class="literalblock">
<div class="content">
<pre>spring.main.banner-mode=off
logging.level.root=ERROR</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml"><span style="color:#777">#logging:</span>
<span style="color:#777">#  level:</span>
<span style="color:#777">#    root: INFO</span>
<span style="color:#777">#    tests: INFO</span>
<span style="color:#606">server</span>:
  <span style="color:#606">port</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">8080</span></span>
<span style="color:#606">spring</span>:
  <span style="color:#606">datasource</span>:
    <span style="color:#606">password</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">root</span></span>
    <span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">jdbc:mysql://localhost:3306/mydb</span></span>
    <span style="color:#606">username</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">root</span></span>
  <span style="color:#606">jpa</span>:
    <span style="color:#606">hibernate</span>:
      <span style="color:#606">ddl-auto</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">update</span></span>

<span style="color:#606">endpoint</span>:
  <span style="color:#606">token</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://jsonplaceholder.typicode.com/posts</span></span>

<span style="color:#777">#upload:</span>
<span style="color:#777">#  dir: D:/Temporary/upload</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.entity</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.persistence.Entity</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.persistence.GeneratedValue</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.persistence.GenerationType</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.persistence.Id</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.Data</span>;


<span style="color:#007">@Entity</span>
<span style="color:#007">@Data</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">User</span> {

    <span style="color:#007">@Id</span>
    <span style="color:#007">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">int</span> id;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> name;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> description;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">double</span> price;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_print_message_from_sender_to_reciver_using_jms">print message from sender to reciver using jms</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements">requirements</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">download active mq
activemq start
activemq stop
http://localhost:8161/index.html
Manage ActiveMQ broker</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pom_3">pom</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-activemq<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>test<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_property_3">property</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">spring.jms.myQueue=myQueue
spring.main.banner-mode=off

spring.activemq.broker-url=tcp:<span style="color:#777">//localhost:61616</span>
spring.activemq.user=admin
spring.activemq.password=admin

<span style="color:#F00;background-color:#FAA">#</span>spring.jms.pub-sub-domain=<span style="color:#069">true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_main_3">main</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootApplication</span>
<span style="color:#007">@EnableJms</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JarApplication</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
        SpringApplication.run(JarApplication.class, args);
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_messagesender">MessageSender</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Component</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MessageSender</span>{
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> JmsTemplate jmsTemplate;

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">public</span> MessageSender(JmsTemplate jmsTemplate) {
        <span style="color:#950">this</span>.jmsTemplate = jmsTemplate;
    }

    <span style="color:#007">@Value</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${spring.jms.myQueue}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> queue;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> mySend(<span style="color:#0a8;font-weight:bold">String</span> message) {
        <span style="color:#777">// MessageCreator messageCreator = new MessageCreator() {</span>
        <span style="color:#777">//     @Override</span>
        <span style="color:#777">//     public Message createMessage(Session session) throws JMSException {</span>
        <span style="color:#777">//         return session.createTextMessage(message);</span>
        <span style="color:#777">//     }</span>
        <span style="color:#777">// };</span>

        MessageCreator messageCreator = session -&gt; session.createTextMessage(message);

        jmsTemplate.send(queue, messageCreator);


        <span style="color:#777">// jmsTemplate.convertAndSend(queue, message);</span>
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mylistener">MyListener</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Component</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyListener</span> {

    <span style="color:#007">@JmsListener</span>(destination = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${spring.jms.myQueue}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> myReceive(<span style="color:#0a8;font-weight:bold">String</span> message) {
        <span style="color:#0a8;font-weight:bold">System</span>.out.println(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">myReceive() </span><span style="color:#710">&quot;</span></span> + message);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_3">test</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootTest</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JarApplicationTests</span> {

    <span style="color:#007">@Autowired</span>
    MessageSender messageSender;

    <span style="color:#007">@Test</span>
    <span style="color:#339;font-weight:bold">void</span> test1() {

        messageSender.mySend(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello </span><span style="color:#710">&quot;</span></span>);
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_output_3">output</h3>
<div class="literalblock">
<div class="content">
<pre>myReceive() hello</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#579">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;property</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">HOME_LOG</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">logs/app.log</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;appender</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FILE-ROLLING</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ch.qos.logback.core.rolling.RollingFileAppender</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;file&gt;</span>log<span style="color:#070;font-weight:bold">&lt;/file&gt;</span>

        <span style="color:#070;font-weight:bold">&lt;rollingPolicy</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;fileNamePattern&gt;</span>logs/archived/app.%d{yyyy-MM-dd}.%i.log.gz<span style="color:#070;font-weight:bold">&lt;/fileNamePattern&gt;</span>
            <span style="color:#777">&lt;!-- each archived file, size max 10MB --&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;maxFileSize&gt;</span>10MB<span style="color:#070;font-weight:bold">&lt;/maxFileSize&gt;</span>
            <span style="color:#777">&lt;!-- total size of all archive files, if total size &gt; 20GB, it will delete old archived file --&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;totalSizeCap&gt;</span>20GB<span style="color:#070;font-weight:bold">&lt;/totalSizeCap&gt;</span>
            <span style="color:#777">&lt;!-- 60 days to keep --&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;maxHistory&gt;</span>60<span style="color:#070;font-weight:bold">&lt;/maxHistory&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/rollingPolicy&gt;</span>

        <span style="color:#070;font-weight:bold">&lt;encoder&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;pattern&gt;</span>%d %p %c{1.} [%t] %m%n<span style="color:#070;font-weight:bold">&lt;/pattern&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/encoder&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/appender&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;logger</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">com.mkyong</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">level</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">debug</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">additivity</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;appender-ref</span> <span style="color:#b48">ref</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FILE-ROLLING</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/logger&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;root</span> <span style="color:#b48">level</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">error</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;appender-ref</span> <span style="color:#b48">ref</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FILE-ROLLING</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/root&gt;</span>

<span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>package com.javacodegeeks.examples.logbackencoderexample;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class ApplicationStarter3 {

    private static final Logger logger  = LoggerFactory.getLogger( "sizeAndTimeBased" );

    public static void main( final String[] args ) {

        for ( int i = 1; i &lt;= 40; i++ ) {
            logger.info( "write log with SizeAndTimeBasedFNATP" );

            try {
                Thread.sleep( 1000L );
            } catch ( final InterruptedException e ) {
                logger.error( "an error occurred", e );
            }
        }
    }
}

## logback.xml

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;configuration&gt;
    &lt;appender name="SIZE_AND_TIME_BASED_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt;
        &lt;file&gt;c:/logs/archived/app.log&lt;/file&gt;
        &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt;

            &lt;!-- every second --&gt;
            &lt;fileNamePattern&gt;c:/logs/archived/app_%d{yyy_MM_dd HH_mm_ss}_%i.log&lt;/fileNamePattern&gt;
            &lt;timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"&gt;
                &lt;maxFileSize&gt;10KB&lt;/maxFileSize&gt;
            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;
        &lt;/rollingPolicy&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;
    &lt;logger name="sizeAndTimeBased" level="INFO"&gt;
        &lt;appender-ref ref="SIZE_AND_TIME_BASED_FILE" /&gt;
    &lt;/logger&gt;
&lt;/configuration&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>my-[Entity]-811 // download with no dependency</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_insert_view">create insert view</h3>
<div class="literalblock">
<div class="content">
<pre>create bootstrap starter
insert form accordingly</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>there is no webapp support in jar packaging
for webapp support packaging should be war

main
    webapp
        WEB-INF
            insert[Entity]View.jsp</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_controller">controller</h3>
<div class="literalblock">
<div class="content">
<pre>[Entity]Controller
    send insert[Entity]View.jsp view
    insert data and send view with [Entity] object</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_my_entity_811_iml">my-[Entity]-811.iml</h3>
<div class="literalblock">
<div class="content">
<pre>&lt;configuration&gt;
    &lt;webroots&gt;
        &lt;root url="file://$MODULE_DIR$/src/main/webapp" relative="/" /&gt;
    &lt;/webroots&gt;
    &lt;sourceRoots&gt;
        &lt;root url="file://$MODULE_DIR$/src/main/java" /&gt;
        &lt;root url="file://$MODULE_DIR$/src/main/resources" /&gt;
    &lt;/sourceRoots&gt;
&lt;/configuration&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_send_insertentityview_jsp_view">send insert[Entity]View.jsp view</h3>
<div class="paragraph">
<p>return view</p>
</div>
</div>
<div class="sect2">
<h3 id="_insert_data_and_send_view_with_entity_object">insert data and send view with [Entity] object</h3>
<div class="literalblock">
<div class="content">
<pre>transfer data from UI to java object
get the service object using autowire by constructor injection
pass the [Entity] object to service and get the saved object
add object to view using modal map
retun view</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_insert_service">insert service</h3>
<div class="literalblock">
<div class="content">
<pre>create a [Entity]Service interface
create its implementation [Entity]ServiceImpl
get repo object using autowire by constructor injection
pass the [Entity] object to repo and get the saved object
return saved object</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_repo">repo</h3>
<div class="literalblock">
<div class="content">
<pre>create an interface [Entity]Repo which extends JpaRepository
1st parameter is entity class,
2nd parameter is data type of ID of entity</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pom_4">pom</h3>
<div class="literalblock">
<div class="content">
<pre>&lt;!-- for @Controller, @RequestMapping--&gt;
&lt;!-- for view support --&gt;
&lt;!-- for crud operations--&gt;
&lt;!-- for mysql connection--&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_for_view_resolving">for view resolving</h3>
<div class="literalblock">
<div class="content">
<pre>spring.mvc.view.prefix=/WEB-INF/
spring.mvc.view.suffix=.jsp</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_to_connect_with_database">to connect with database</h3>
<div class="literalblock">
<div class="content">
<pre>spring.datasource.url=jdbc:mysql://localhost:3306/projectdb
spring.datasource.username=root
spring.datasource.password=root</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_project_structure">Project structure</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>main
    java
        com.mylocation
            controller
                LocationController.java
                LocationRestController.java
            entity
                Location.java
            service
                LocationService.java
                LocationServiceImpl.java
            repository
                LocationRepository.java
            util
            main file
    resources
        static
            css
                styles.css
            templates
        application.properties
    webapp
        WEB-INF
            View
                Location
                    insertLocation.jsp
                    displayLocation.jsp
                    updateLocation.jsp
                report.jsp</pre>
</div>
</div>
<div class="sect2">
<h3 id="_spring_boot_application_properties_value_not_populating">Spring Boot application.properties value not populating</h3>
<div class="ulist">
<ul>
<li>
<p>The way you are performing the injection of the property will not
work,</p>
</li>
<li>
<p>because the injection is done after the constructor is called.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Slf4j</span>
<span style="color:#007">@AllArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">ConsumeUser</span> {

    <span style="color:#007">@Value</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${endpoint.user}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> userEndpoint;</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>open cmd

jps
// 34336 my-location-0.0.1-SNAPSHOT.jar
// 33892 Jps

taskkill -f /PID 34336
// SUCCESS: The process with PID 34336 has been terminated.</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.entity.User</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Optional</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">UserService</span> {

    <span style="color:#0a8;font-weight:bold">List</span>&lt;User&gt; findAll();

    User save(User user);

    <span style="color:#339;font-weight:bold">void</span> deleteById(<span style="color:#339;font-weight:bold">int</span> id);

    Optional&lt;User&gt; findById(<span style="color:#339;font-weight:bold">int</span> id);
}

<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.entity.User</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.repository.UserRepository</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Optional</span>;


<span style="color:#007">@Service</span>
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">UserServiceImpl</span> <span style="color:#088;font-weight:bold">implements</span> UserService {
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> UserRepository userRepository;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;User&gt; findAll() {
        <span style="color:#080;font-weight:bold">return</span> userRepository.findAll();
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> User save(User user) {
        <span style="color:#080;font-weight:bold">return</span> userRepository.save(user);
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteById(<span style="color:#339;font-weight:bold">int</span> id) {
        userRepository.deleteById(id);

    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> Optional&lt;User&gt; findById(<span style="color:#339;font-weight:bold">int</span> id) {
        <span style="color:#080;font-weight:bold">return</span> userRepository.findById(id);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_getcontroller">getController</h3>
<div class="paragraph">
<p>this is a get api</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#777">/**
 * this is a get api
 *
 * @param yearOfBirth first parameter
 * @return ResponseEntity this will return response entity
 */</span>
<span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/customHeader</span><span style="color:#710">&quot;</span></span>)
ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; getUser(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">yearOfBirth</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> yearOfBirth) {
    <span style="color:#080;font-weight:bold">return</span> ResponseEntity.ok()
            .header(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom-Header</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">foo</span><span style="color:#710">&quot;</span></span>)
            .body(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Custom header set</span><span style="color:#710">&quot;</span></span>);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span style="color:#34b">&lt;!DOCTYPE html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;head&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">charset</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">UTF-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;title&gt;</span>Flight Reservation Application<span style="color:#070;font-weight:bold">&lt;/title&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/head&gt;</span>
<span style="color:#070;font-weight:bold">&lt;body&gt;</span>

<span style="color:#070;font-weight:bold">&lt;h2&gt;</span>Welcome to the Flight Reservation Application:<span style="color:#070;font-weight:bold">&lt;/h2&gt;</span>
New Users click here to register - <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayRegistrationPage</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Register<span style="color:#070;font-weight:bold">&lt;/a&gt;</span><span style="color:#070;font-weight:bold">&lt;br</span><span style="color:#070;font-weight:bold">/&gt;</span>
Existing Users Click her to login-<span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLoginPage</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Login<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/html&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logback_xml">logback.xml</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>resources
    logback.xml</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#579">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;property</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">LOG_DIR</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">D:/Temporary</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;property</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FILE_PREFIX</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">flightreservation</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;appender</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FILE</span><span style="color:#710">&quot;</span></span>
              <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ch.qos.logback.core.rolling.RollingFileAppender</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;file&gt;</span>${LOG_DIR}/${FILE_PREFIX}.log<span style="color:#070;font-weight:bold">&lt;/file&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;encoder</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ch.qos.logback.classic.encoder.PatternLayoutEncoder</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;Pattern&gt;</span>%d{yyyy-MM-dd HH:mm:ss} - %msg%n<span style="color:#070;font-weight:bold">&lt;/Pattern&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/encoder&gt;</span>

        <span style="color:#070;font-weight:bold">&lt;rollingPolicy</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ch.qos.logback.core.rolling.TimeBasedRollingPolicy</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;fileNamePattern&gt;</span>${LOG_DIR}/archived/${FILE_PREFIX}.%d{yyyy-MM-dd}.%i.log
            <span style="color:#070;font-weight:bold">&lt;/fileNamePattern&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;timeBasedFileNamingAndTriggeringPolicy</span>
                    <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;maxFileSize&gt;</span>10MB<span style="color:#070;font-weight:bold">&lt;/maxFileSize&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/rollingPolicy&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/appender&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;root</span> <span style="color:#b48">level</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">error</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;appender-ref</span> <span style="color:#b48">ref</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">FILE</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/root&gt;</span>

<span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span></code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>spring.datasource.url=jdbc:mysql://localhost:3306/reservation
spring.datasource.username=root
spring.datasource.password=root

spring.jpa.show-sql=true

spring.mvc.view.prefix=/WEB-INF/view/
spring.mvc.view.suffix=.jsp

spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=sakshamsangal99
spring.mail.password=pYtHoN_1@6!9
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.auth=true

logging.level.root=INFO
logging.file.path=D:/Temporary
com.flightreservation.itinerary.dirpath=D:/Temporary
com.flightreservation.itinerary.email.subject=Itinerary for your Flight
com.flightreservation.itinerary.email.body=Please find your Itinerary attached.</pre>
</div>
</div>
<div class="sect2">
<h3 id="_locationcontroller">LocationController</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.controller</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dao.LocationRepository</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dto.Location</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.service.LocationService</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.utility.Email</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.utility.Report</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Controller</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.ui.ModelMap</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.ModelAttribute</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RequestMapping</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RequestParam</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.servlet.ServletContext</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#007">@Controller</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">LocationController</span> {

    <span style="color:#088;font-weight:bold">final</span> LocationRepository locationRepository;
    <span style="color:#088;font-weight:bold">final</span> LocationService service;
    <span style="color:#088;font-weight:bold">final</span> Email email;
    <span style="color:#088;font-weight:bold">final</span> Report report;
    <span style="color:#088;font-weight:bold">final</span> ServletContext servletContext;

    <span style="color:#088;font-weight:bold">public</span> LocationController(LocationRepository locationRepository, LocationService service, Email email, Report report, ServletContext servletContext) {
        <span style="color:#950">this</span>.locationRepository = locationRepository;
        <span style="color:#950">this</span>.service = service;
        <span style="color:#950">this</span>.email = email;
        <span style="color:#950">this</span>.report = report;
        <span style="color:#950">this</span>.servletContext = servletContext;
    }


    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/insertLocationPage</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> showCreate() {
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">insertLocation</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/insertLocation</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> saveLocation(<span style="color:#007">@ModelAttribute</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span>) Location location, ModelMap modelMap) {
        Location locationSaved = service.saveLocation(location);
        <span style="color:#0a8;font-weight:bold">String</span> msg = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Location saved with id: </span><span style="color:#710">&quot;</span></span> + locationSaved.getId();
        modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">msg</span><span style="color:#710">&quot;</span></span>, msg);

        <span style="color:#777">// email sending</span>
        <span style="color:#777">// email.sendEmail(&quot;sakshamsangal111@gmail.com&quot;, &quot;Location saved&quot;, &quot;Hi, Location saved&quot;);</span>
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">insertLocation</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/displayLocations</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> displayLocations(ModelMap modelMap) {
        <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; locations = service.getAllLocations();
        modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">locations</span><span style="color:#710">&quot;</span></span>, locations);
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocations</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">deleteLocation</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> deleteLocation(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id, ModelMap modelMap) {
        <span style="color:#777">// Location location = service.getLocationById(id);</span>
        Location location = <span style="color:#080;font-weight:bold">new</span> Location();
        location.setId(id);
        service.deleteLocation(location);
        <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; locations = service.getAllLocations();
        modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">locations</span><span style="color:#710">&quot;</span></span>, locations);
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocations</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/updateLocationPage</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> showUpdate(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id, ModelMap modelMap) {
        Location location = service.getLocationById(id);
        modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span>, location);
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">updateLocation</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/updateLocation</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> updateLocation(<span style="color:#007">@ModelAttribute</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span>) Location location, ModelMap modelMap) {
        service.updateLocation(location);
        <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; locations = service.getAllLocations();
        modelMap.addAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">locations</span><span style="color:#710">&quot;</span></span>, locations);
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocations</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/generateReport</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> generateReport() {
        <span style="color:#0a8;font-weight:bold">String</span> path = servletContext.getRealPath(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Object</span><span style="color:#339;font-weight:bold">[]</span>&gt; data = locationRepository.findTypeAndTypeCount();
        report.generatePieChart(path, data);
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">report</span><span style="color:#710">&quot;</span></span>;

    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_locationrestcontroller">LocationRestController</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.controller</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dao.LocationRepository</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dto.Location</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation</span>.*;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Optional</span>;

<span style="color:#007">@RestController</span>
<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/locations</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">LocationRestController</span> {

    <span style="color:#088;font-weight:bold">final</span> LocationRepository locationRepository;

    <span style="color:#088;font-weight:bold">public</span> LocationRestController(LocationRepository locationRepository) {
        <span style="color:#950">this</span>.locationRepository = locationRepository;
    }

    <span style="color:#007">@GetMapping</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; getLocations() {
        <span style="color:#080;font-weight:bold">return</span> locationRepository.findAll();
    }

    <span style="color:#007">@PostMapping</span>
    <span style="color:#088;font-weight:bold">public</span> Location createLocation(<span style="color:#007">@RequestBody</span> Location location) {
        <span style="color:#080;font-weight:bold">return</span> locationRepository.save(location);
    }

    <span style="color:#007">@PutMapping</span>
    <span style="color:#088;font-weight:bold">public</span> Location updateLocation(<span style="color:#007">@RequestBody</span> Location location) {
        <span style="color:#080;font-weight:bold">return</span> locationRepository.save(location);

    }

    <span style="color:#007">@DeleteMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/{id}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteLocation(<span style="color:#007">@PathVariable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id) {
        locationRepository.deleteById(id);
    }

    <span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/{id}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> Location getLocation(<span style="color:#007">@PathVariable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>) <span style="color:#339;font-weight:bold">int</span> id) {
        Optional&lt;Location&gt; optionalLocation = locationRepository.findById(id);
        <span style="color:#080;font-weight:bold">return</span> optionalLocation.orElse(<span style="color:#069">null</span>);
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span style="color:#070;font-weight:bold">body</span> {
    <span style="color:#606">background-color</span>: <span style="color:#0A0">#222</span>;
    <span style="color:#606">color</span>: <span style="color:#0A0">#aaa</span>;
    <span style="color:#606">font-family</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Google Sans</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">JetBrains Mono</span><span style="color:#710">'</span></span>, <span style="color:#088">serif</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_location">Location</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.modal.dto</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.persistence.Entity</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.persistence.Id</span>;

<span style="color:#007">@Entity</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Location</span> {

    <span style="color:#007">@Id</span>
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">int</span> id;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> code;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> name;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> type;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">int</span> getId() {
        <span style="color:#080;font-weight:bold">return</span> id;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setId(<span style="color:#339;font-weight:bold">int</span> id) {
        <span style="color:#950">this</span>.id = id;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getCode() {
        <span style="color:#080;font-weight:bold">return</span> code;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setCode(<span style="color:#0a8;font-weight:bold">String</span> code) {
        <span style="color:#950">this</span>.code = code;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getName() {
        <span style="color:#080;font-weight:bold">return</span> name;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setName(<span style="color:#0a8;font-weight:bold">String</span> name) {
        <span style="color:#950">this</span>.name = name;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getType() {
        <span style="color:#080;font-weight:bold">return</span> type;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setType(<span style="color:#0a8;font-weight:bold">String</span> type) {
        <span style="color:#950">this</span>.type = type;
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> toString() {
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Location [id=</span><span style="color:#710">&quot;</span></span> + id + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, code=</span><span style="color:#710">&quot;</span></span> + code + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, name=</span><span style="color:#710">&quot;</span></span> + name + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, type=</span><span style="color:#710">&quot;</span></span> + type + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">]</span><span style="color:#710">&quot;</span></span>;
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_main_4">Main</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.boot.SpringApplication</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.boot.autoconfigure.SpringBootApplication</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.annotation.ComponentScan</span>;

<span style="color:#007">@SpringBootApplication</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyLocationApplication</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
        SpringApplication.run(MyLocationApplication.class, args);
    }

}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>src
    main
        java
        resources
        webapp
pom


java
    com.mylocation
        controller
        entity
        repo
        service
        utility


resources/static/css/styles.css


webapps
    WEB-INF
        views
            .jsp</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#579">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span style="color:#070;font-weight:bold">&lt;project</span> <span style="color:#b48">xmlns</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://maven.apache.org/POM/4.0.0</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">xmlns:xsi</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://www.w3.org/2001/XMLSchema-instance</span><span style="color:#710">&quot;</span></span>
         <span style="color:#b48">xsi:schemaLocation</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;modelVersion&gt;</span>4.0.0<span style="color:#070;font-weight:bold">&lt;/modelVersion&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;parent&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-parent<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;version&gt;</span>2.3.1.RELEASE<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;relativePath</span><span style="color:#070;font-weight:bold">/&gt;</span> <span style="color:#777">&lt;!-- lookup parent from repository --&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/parent&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>com<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>locationweb<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>0.0.1-SNAPSHOT<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;name&gt;</span>locationweb<span style="color:#070;font-weight:bold">&lt;/name&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;description&gt;</span>Demo project for Spring Boot<span style="color:#070;font-weight:bold">&lt;/description&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;properties&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;java.version&gt;</span>1.8<span style="color:#070;font-weight:bold">&lt;/java.version&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/properties&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;dependencies&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.apache.tomcat.embed<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>tomcat-embed-jasper<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-mail<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>javax.servlet<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jstl<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>mysql<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>runtime<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.jfree<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>jfreechart<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;version&gt;</span>1.0.19<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>test<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/dependencies&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;build&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;plugins&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;plugin&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/plugin&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/plugins&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/build&gt;</span>

<span style="color:#070;font-weight:bold">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">spring.datasource.url=jdbc:mysql:<span style="color:#777">//localhost:3306/projectdb</span>
spring.datasource.username=root
spring.datasource.password=root

spring.jpa.show-sql=<span style="color:#069">true</span>

spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp

<span style="color:#F00;background-color:#FAA">#</span>server.context-path=/locationweb


spring.mail.host=smtp.gmail.com
spring.mail.port=<span style="color:#00D">587</span>
spring.mail.username=sakshamsangal111
spring.mail.password=pYtHoN_1<span style="color:#F00;background-color:#FAA">@</span><span style="color:#00D">6</span>!<span style="color:#00D">9</span>
spring.mail.properties.mail.smtp.starttls.enable=<span style="color:#069">true</span>
spring.mail.properties.mail.smtp.starttls.required=<span style="color:#069">true</span>
spring.mail.properties.mail.smtp.auth=<span style="color:#069">true</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_locationrepository">LocationRepository</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.modal.dao</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dto.Location</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.data.jpa.repository.JpaRepository</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.data.jpa.repository.Query</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">LocationRepository</span> <span style="color:#088;font-weight:bold">extends</span> JpaRepository&lt;Location, <span style="color:#0a8;font-weight:bold">Integer</span>&gt; {

    <span style="color:#007">@Query</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">select type,count(type) from Location group by type</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Object</span><span style="color:#339;font-weight:bold">[]</span>&gt; findTypeAndTypeCount();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_locationservice">LocationService</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.modal.service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dao.LocationRepository</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.mylocation.modal.dto.Location</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Optional</span>;


<span style="color:#007">@Service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">LocationService</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> LocationRepository repository;

    <span style="color:#088;font-weight:bold">public</span> LocationService(LocationRepository repository) {
        <span style="color:#950">this</span>.repository = repository;
    }

    <span style="color:#088;font-weight:bold">public</span> Location saveLocation(Location location) {
        <span style="color:#080;font-weight:bold">return</span> repository.save(location);
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> updateLocation(Location location) {
        repository.save(location);
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteLocation(Location location) {
        repository.delete(location);
    }

    <span style="color:#088;font-weight:bold">public</span> Location getLocationById(<span style="color:#339;font-weight:bold">int</span> id) {
        Optional&lt;Location&gt; optionalLocation = repository.findById(id);
        <span style="color:#080;font-weight:bold">return</span> optionalLocation.orElse(<span style="color:#069">null</span>);
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; getAllLocations() {
        <span style="color:#080;font-weight:bold">return</span> repository.findAll();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>use projectdb;</p>
</div>
<div class="paragraph">
<p>create table location (id int PRIMARY KEY,code varchar(20),name
varchar(20),type varchar(10));</p>
</div>
<div class="paragraph">
<p>select * from location;</p>
</div>
<div class="paragraph">
<p>drop table location;</p>
</div>
</div>
<div class="sect2">
<h3 id="_email">Email</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.modal.utility</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Autowired</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.mail.javamail.JavaMailSender</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.mail.javamail.MimeMessageHelper</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Component</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.mail.MessagingException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.mail.internet.MimeMessage</span>;

<span style="color:#007">@Component</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Email</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> JavaMailSender sender;

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">public</span> Email(JavaMailSender sender) {
        <span style="color:#950">this</span>.sender = sender;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> sendEmail(<span style="color:#0a8;font-weight:bold">String</span> toAddress, <span style="color:#0a8;font-weight:bold">String</span> subject, <span style="color:#0a8;font-weight:bold">String</span> body) {

        MimeMessage message = sender.createMimeMessage();
        MimeMessageHelper helper = <span style="color:#080;font-weight:bold">new</span> MimeMessageHelper(message);
        <span style="color:#080;font-weight:bold">try</span> {
            helper.setTo(toAddress);
            helper.setSubject(subject);
            helper.setText(body);
        } <span style="color:#080;font-weight:bold">catch</span> (MessagingException e) {
            e.printStackTrace();
        }

        sender.send(message);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_report">Report</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.mylocation.modal.utility</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.jfree.chart.ChartFactory</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.jfree.chart.ChartUtilities</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.jfree.chart.JFreeChart</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.jfree.data.general.DefaultPieDataset</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Component</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#007">@Component</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Report</span> {
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> generatePieChart(<span style="color:#0a8;font-weight:bold">String</span> path, <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Object</span><span style="color:#339;font-weight:bold">[]</span>&gt; data) {
        DefaultPieDataset dataset = <span style="color:#080;font-weight:bold">new</span> DefaultPieDataset();

        <span style="color:#080;font-weight:bold">for</span> (<span style="color:#0a8;font-weight:bold">Object</span><span style="color:#339;font-weight:bold">[]</span> objects : data) {
            dataset.setValue(objects[<span style="color:#00D">0</span>].toString(), <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">Double</span>(objects[<span style="color:#00D">1</span>].toString()));
        }

        JFreeChart chart = ChartFactory.createPieChart(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Location Type Report</span><span style="color:#710">&quot;</span></span>, dataset);

        <span style="color:#080;font-weight:bold">try</span> {
            ChartUtilities.saveChartAsJPEG(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">File</span>(path + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/pieChart.jpeg</span><span style="color:#710">&quot;</span></span>), chart, <span style="color:#00D">300</span>, <span style="color:#00D">300</span>);
        } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">IOException</span> e) {
            e.printStackTrace();
        }

    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_display">display</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span style="color:#F00;background-color:#FAA">&lt;</span>%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#F00;background-color:#FAA">&lt;</span>%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#F00;background-color:#FAA">&lt;</span>%@page isELIgnored=&quot;false&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#34b">&lt;!DOCTYPE html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;head&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">http-equiv</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Content-Type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">content</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text/html; charset=UTF-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">viewport</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">content</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">width=device-width, initial-scale=1</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;link</span> <span style="color:#b48">rel</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stylesheet</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;link</span> <span style="color:#b48">rel</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stylesheet</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">css/styles.css</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;title&gt;</span>Insert title here<span style="color:#070;font-weight:bold">&lt;/title&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/head&gt;</span>
<span style="color:#070;font-weight:bold">&lt;body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;nav</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar navbar-expand-lg navbar-dark bg-dark</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-brand</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Navbar w/ text<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-toggler</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">button</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">data-toggle</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">collapse</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">data-target</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#navbarText</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-controls</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbarText</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-expanded</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-label</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Toggle navigation</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-toggler-icon</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/span&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">collapse navbar-collapse</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">id</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbarText</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;ul</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-nav mr-auto</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item active</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Home <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sr-only</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>(current)<span style="color:#070;font-weight:bold">&lt;/span&gt;</span><span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Features<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Pricing<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/ul&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-text</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        Navbar text with an inline element
        <span style="color:#070;font-weight:bold">&lt;/span&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/nav&gt;</span>

<span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">container</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;h3&gt;</span>Locations:<span style="color:#070;font-weight:bold">&lt;/h3&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;table</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">table table-dark table-striped table-sm</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;tr&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;th&gt;</span>id<span style="color:#070;font-weight:bold">&lt;/th&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;th&gt;</span>code<span style="color:#070;font-weight:bold">&lt;/th&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;th&gt;</span>name<span style="color:#070;font-weight:bold">&lt;/th&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;th&gt;</span>type<span style="color:#070;font-weight:bold">&lt;/th&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;th&gt;</span>Delete<span style="color:#070;font-weight:bold">&lt;/th&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;th&gt;</span>Edit<span style="color:#070;font-weight:bold">&lt;/th&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/tr&gt;</span>

        <span style="color:#070;font-weight:bold">&lt;c:forEach</span> <span style="color:#b48">items</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${locations}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">var</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">location</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;tr&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;td&gt;</span>${location.id}<span style="color:#070;font-weight:bold">&lt;/td&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;td&gt;</span>${location.code}<span style="color:#070;font-weight:bold">&lt;/td&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;td&gt;</span>${location.name}<span style="color:#070;font-weight:bold">&lt;/td&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;td&gt;</span>${location.type}<span style="color:#070;font-weight:bold">&lt;/td&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;td&gt;</span><span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">btn btn-danger btn-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">deleteLocation?id=${location.id}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>delete<span style="color:#070;font-weight:bold">&lt;/a&gt;</span><span style="color:#070;font-weight:bold">&lt;/td&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;td&gt;</span><span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">btn btn-info btn-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">updateLocationPage?id=${location.id}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>edit<span style="color:#070;font-weight:bold">&lt;/a&gt;</span><span style="color:#070;font-weight:bold">&lt;/td&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/tr&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/c:forEach&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/table&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">insertLocationPage</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">btn btn-primary btn-sm float-right</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Insert  Location<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/html&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_insert">insert</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span style="color:#F00;background-color:#FAA">&lt;</span>%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#F00;background-color:#FAA">&lt;</span>%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#F00;background-color:#FAA">&lt;</span>%@ page isELIgnored=&quot;false&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#34b">&lt;!DOCTYPE html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;head&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">http-equiv</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Content-Type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">content</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text/html; charset=UTF-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">viewport</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">content</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">width=device-width, initial-scale=1</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;link</span> <span style="color:#b48">rel</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stylesheet</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;link</span> <span style="color:#b48">rel</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stylesheet</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">css/styles.css</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;title&gt;</span>Insert title here<span style="color:#070;font-weight:bold">&lt;/title&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/head&gt;</span>
<span style="color:#070;font-weight:bold">&lt;body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;nav</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar navbar-expand-lg navbar-dark bg-dark</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-brand</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">insertLocation</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Location<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-toggler</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">button</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">data-toggle</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">collapse</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">data-target</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#navbarText</span><span style="color:#710">&quot;</span></span>
            <span style="color:#b48">aria-controls</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbarText</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-expanded</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-label</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Toggle navigation</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-toggler-icon</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/span&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">collapse navbar-collapse</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">id</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbarText</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;ul</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-nav mr-auto</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item active</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Home <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sr-only</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>(current)<span style="color:#070;font-weight:bold">&lt;/span&gt;</span><span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Features<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Pricing<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/ul&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-text</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        Navbar text with an inline element
        <span style="color:#070;font-weight:bold">&lt;/span&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/nav&gt;</span>

<span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">container</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>

    <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">row</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">col-md-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">col-md-4</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;h3&gt;</span>Insert location<span style="color:#070;font-weight:bold">&lt;/h3&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;form</span> <span style="color:#b48">action</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">insertLocation</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">method</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">post</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-group</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label&gt;</span>Id<span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-control form-control-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-group</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label&gt;</span>Code<span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-control form-control-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">code</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>

                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-group</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label&gt;</span>Name<span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-control form-control-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">name</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-label</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                        <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">radio</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-input</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">URBAN</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>URBAN
                    <span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-label</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                        <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">radio</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-input</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">RURAL</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>RURAL
                    <span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">submit</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">btn btn-primary btn-block btn-sm</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Submit<span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/form&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;p&gt;</span>${msg}<span style="color:#070;font-weight:bold">&lt;/p&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">btn btn-primary btn-sm float-right</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">displayLocationsPage</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>View All<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>


<span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/html&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_update">update</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span style="color:#F00;background-color:#FAA">&lt;</span>%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#F00;background-color:#FAA">&lt;</span>%@taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#F00;background-color:#FAA">&lt;</span>%@page isELIgnored=&quot;false&quot; %<span style="color:#F00;background-color:#FAA">&gt;</span>
<span style="color:#34b">&lt;!DOCTYPE html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;head&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">http-equiv</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Content-Type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">content</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text/html; charset=UTF-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">viewport</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">content</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">width=device-width, initial-scale=1</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;link</span> <span style="color:#b48">rel</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stylesheet</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;link</span> <span style="color:#b48">rel</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">stylesheet</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">css/styles.css</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;title&gt;</span>Insert title here<span style="color:#070;font-weight:bold">&lt;/title&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/head&gt;</span>
<span style="color:#070;font-weight:bold">&lt;body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;nav</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar navbar-expand-lg navbar-dark bg-dark</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-brand</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Navbar w/ text<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-toggler</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">button</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">data-toggle</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">collapse</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">data-target</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#navbarText</span><span style="color:#710">&quot;</span></span>
            <span style="color:#b48">aria-controls</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbarText</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-expanded</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">false</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">aria-label</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Toggle navigation</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-toggler-icon</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/span&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">collapse navbar-collapse</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">id</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbarText</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;ul</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-nav mr-auto</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item active</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Home <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sr-only</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>(current)<span style="color:#070;font-weight:bold">&lt;/span&gt;</span><span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Features<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;li</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-item</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;a</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">nav-link</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">href</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Pricing<span style="color:#070;font-weight:bold">&lt;/a&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/li&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/ul&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;span</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">navbar-text</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        Navbar text with an inline element
        <span style="color:#070;font-weight:bold">&lt;/span&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/nav&gt;</span>

<span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">container</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">row</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">col-md-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">col-md-4</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span><span style="color:#070;font-weight:bold">&lt;br&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;h3&gt;</span>Update location<span style="color:#070;font-weight:bold">&lt;/h3&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;form</span> <span style="color:#b48">action</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">updateLocation</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">method</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">post</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-group</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label&gt;</span>Id<span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-control form-control-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${location.id}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">readonly</span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-group</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label&gt;</span>Code<span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-control form-control-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">code</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${location.code}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>

                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-group</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label&gt;</span>Name<span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-control form-control-sm</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">name</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${location.name}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-label</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                        <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">radio</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-input</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">URBAN</span><span style="color:#710">&quot;</span></span> <span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">{</span><span style="color:#b48">location.type</span>=<span style="color:#F00;background-color:#FAA">=</span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">URBAN</span><span style="color:#710">'</span></span><span style="color:#F00;background-color:#FAA">?</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#b48">checked</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#b48">:</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#F00;background-color:#FAA">}</span><span style="color:#070;font-weight:bold">&gt;</span>URBAN
                    <span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                    <span style="color:#070;font-weight:bold">&lt;label</span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-label</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
                        <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">radio</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">form-check-input</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">type</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">RURAL</span><span style="color:#710">&quot;</span></span> <span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">{</span><span style="color:#b48">location.type</span>=<span style="color:#F00;background-color:#FAA">=</span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">RURAL</span><span style="color:#710">'</span></span><span style="color:#F00;background-color:#FAA">?</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#b48">checked</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#b48">:</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#F00;background-color:#FAA">'</span><span style="color:#F00;background-color:#FAA">}</span><span style="color:#070;font-weight:bold">&gt;</span>RURAL
                    <span style="color:#070;font-weight:bold">&lt;/label&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
                <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">submit</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">class</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">btn btn-primary btn-block btn-sm</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Submit<span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
            <span style="color:#070;font-weight:bold">&lt;/form&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/div&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;script</span> <span style="color:#b48">src</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/script&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/html&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_display_page">Display page</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;div class=&quot;container&quot;&gt;
    &lt;br&gt;&lt;br&gt;
    &lt;h3&gt;Locations:&lt;/h3&gt;
    &lt;table class=&quot;table table-dark table-striped table-sm&quot;&gt;
        &lt;tr&gt;
            &lt;th&gt;id&lt;/th&gt;
            &lt;th&gt;code&lt;/th&gt;
            &lt;th&gt;name&lt;/th&gt;
            &lt;th&gt;type&lt;/th&gt;
            &lt;th&gt;Delete&lt;/th&gt;
            &lt;th&gt;Edit&lt;/th&gt;
        &lt;/tr&gt;

        &lt;c:forEach items=&quot;${locations}&quot; var=&quot;location&quot;&gt;
            &lt;tr&gt;
                &lt;td&gt;${location.id}&lt;/td&gt;
                &lt;td&gt;${location.code}&lt;/td&gt;
                &lt;td&gt;${location.name}&lt;/td&gt;
                &lt;td&gt;${location.type}&lt;/td&gt;
                &lt;td&gt;&lt;a class=&quot;btn btn-danger btn-sm&quot; href=&quot;deleteLocation?id=${location.id}&quot;&gt;delete&lt;/a&gt;&lt;/td&gt;
                &lt;td&gt;&lt;a class=&quot;btn btn-info btn-sm&quot; href=&quot;updateLocationPage?id=${location.id}&quot;&gt;edit&lt;/a&gt;&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/c:forEach&gt;
    &lt;/table&gt;
    &lt;a href=&quot;insertLocationPage&quot; class=&quot;btn btn-primary btn-sm float-right&quot;&gt;Insert  Location&lt;/a&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;%@ page contentType="text/html;charset=UTF-8" %&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
&lt;%@ page isELIgnored="false" %&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
    &lt;link rel="stylesheet" href="css/styles.css"&gt;
&lt;/head&gt;
&lt;body&gt;


&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_insert_page">Insert page</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_include">include</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; %&gt;
&lt;%@ page isELIgnored=&quot;false&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_html_format">HTML format</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp"></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_custom_css">custom css</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;link rel=&quot;stylesheet&quot; href=&quot;css/styles.css&quot;&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_form">Form</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;div class=&quot;container&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;div class=&quot;col-md-8&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;col-md-4&quot;&gt;
            &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
            &lt;h3&gt;Insert location&lt;/h3&gt;
            &lt;form action=&quot;insertLocation&quot; method=&quot;post&quot;&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label&gt;Id&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control form-control-sm&quot; name=&quot;id&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label&gt;Code&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control form-control-sm&quot; name=&quot;code&quot;&gt;
                &lt;/div&gt;

                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label&gt;Name&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control form-control-sm&quot; name=&quot;name&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-check&quot;&gt;
                    &lt;label class=&quot;form-check-label&quot;&gt;
                        &lt;input type=&quot;radio&quot; class=&quot;form-check-input&quot; name=&quot;type&quot; value=&quot;URBAN&quot;&gt;URBAN
                    &lt;/label&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-check&quot;&gt;
                    &lt;label class=&quot;form-check-label&quot;&gt;
                        &lt;input type=&quot;radio&quot; class=&quot;form-check-input&quot; name=&quot;type&quot; value=&quot;RURAL&quot;&gt;RURAL
                    &lt;/label&gt;
                &lt;/div&gt;
                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block btn-sm&quot;&gt;Submit&lt;/button&gt;
            &lt;/form&gt;
            &lt;p&gt;${msg}&lt;/p&gt;
            &lt;a class=&quot;btn btn-primary btn-sm float-right&quot; href=&quot;displayLocations&quot;&gt;View All&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_report_page">Report page</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;img src=&quot;pieChart.jpeg&quot;/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thymeleaf">thymeleaf</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>location</strong> <code>src/main/resources/templates/hello.html</code></p>
</div>
<div class="paragraph">
<p><strong>pom</strong> <code>-thymeleaf</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14%;">
<col style="width: 86%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">character</th>
<th class="tableblock halign-left valign-top">means</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">@</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for writing url, uri e.g. in form action, for css @/css/temp.css`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">read data from controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">used in form input to bind the java object</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>show data from java controller</strong> div th:text=``${message}''</p>
</div>
<div class="paragraph">
<p><strong>to prevent html cache</strong> <code>spring.thymeleaf.cache=false</code></p>
</div>
<div class="paragraph">
<p><strong>show list</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">ul th:each=&quot;student:${students}&quot;
    th:text=&quot;${student.name}&quot;
    th:text=&quot;${student.score}&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>to get the data from html form</strong> <code>@ModelAttribute</code></p>
</div>
<div class="paragraph">
<p><strong>form data submit</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">form th:object=&quot;${student}&quot; action=&quot;@{/insert-student}&quot;
input th:field=&quot;*{name}&quot;
input th:field=&quot;*{score}&quot;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_page">Update page</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;div class=&quot;container&quot;&gt;
    &lt;div class=&quot;row&quot;&gt;
        &lt;div class=&quot;col-md-8&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;col-md-4&quot;&gt;
            &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
            &lt;h3&gt;Update location&lt;/h3&gt;
            &lt;form action=&quot;updateLocation&quot; method=&quot;post&quot;&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label&gt;Id&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control form-control-sm&quot; name=&quot;id&quot; value=&quot;${location.id}&quot; readonly&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label&gt;Code&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control form-control-sm&quot; name=&quot;code&quot; value=&quot;${location.code}&quot;&gt;
                &lt;/div&gt;

                &lt;div class=&quot;form-group&quot;&gt;
                    &lt;label&gt;Name&lt;/label&gt;
                    &lt;input type=&quot;text&quot; class=&quot;form-control form-control-sm&quot; name=&quot;name&quot; value=&quot;${location.name}&quot;&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-check&quot;&gt;
                    &lt;label class=&quot;form-check-label&quot;&gt;
                        &lt;input type=&quot;radio&quot; class=&quot;form-check-input&quot; name=&quot;type&quot; value=&quot;URBAN&quot; ${location.type=='URBAN'?'checked':''}&gt;URBAN
                    &lt;/label&gt;
                &lt;/div&gt;
                &lt;div class=&quot;form-check&quot;&gt;
                    &lt;label class=&quot;form-check-label&quot;&gt;
                        &lt;input type=&quot;radio&quot; class=&quot;form-check-input&quot; name=&quot;type&quot; value=&quot;RURAL&quot; ${location.type=='RURAL'?'checked':''}&gt;RURAL
                    &lt;/label&gt;
                &lt;/div&gt;
                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block btn-sm&quot;&gt;Submit&lt;/button&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_database_caching">Database caching</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pom_5">pom</h3>
<div class="ulist">
<ul>
<li>
<p>cache</p>
</li>
<li>
<p>hazelcast</p>
</li>
<li>
<p>hazelcast-spring</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_business_logic">Business logic</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_in_main_class">in main class</h3>

</div>
<div class="sect2">
<h3 id="_in_product_class">in Product class</h3>
<div class="paragraph">
<p><code>Product implements Serializable</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_in_rest_controller">in rest controller</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Product getProduct()

deleteProduct()</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_repository">Repository</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_jpa">JPA</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.repository</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.data.jpa.repository.JpaRepository</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.entity.User</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">UserRepository</span> <span style="color:#088;font-weight:bold">extends</span> JpaRepository&lt;User, <span style="color:#0a8;font-weight:bold">Integer</span>&gt; {
}


<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">LocationRepository</span> <span style="color:#088;font-weight:bold">extends</span> JpaRepository&lt;Location, <span style="color:#0a8;font-weight:bold">Integer</span>&gt; {

    <span style="color:#007">@Query</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">select type,count(type) from Location group by type</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Object</span><span style="color:#339;font-weight:bold">[]</span>&gt; findTypeAndTypeCount();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_aop">aop</h3>
<div class="literalblock">
<div class="content">
<pre>implementation 'org.springframework.boot:spring-boot-starter-aop'
compileOnly 'org.projectlombok:lombok'
annotationProcessor 'org.projectlombok:lombok'
implementation 'org.springframework.boot:spring-boot-starter-web'
implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
runtimeOnly 'com.mysql:mysql-connector-j'
testImplementation 'org.springframework.boot:spring-boot-starter-test'
implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'
implementation 'org.springframework.boot:spring-boot-starter-webflux'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>io.springfox<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>springfox-swagger2<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>2.9.2<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>io.springfox<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>springfox-swagger-ui<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>2.9.2<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>test<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#777">&lt;!-- for API operations--&gt;</span>
<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>

<span style="color:#777">&lt;!-- for mysql connection--&gt;</span>
<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>mysql<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;scope&gt;</span>runtime<span style="color:#070;font-weight:bold">&lt;/scope&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_global">global</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.exception</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.model.ApiError</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.MessageSource</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.annotation.Scope</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http.ResponseEntity</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.ExceptionHandler</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RestControllerAdvice</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler</span>;

<span style="color:#007">@RestControllerAdvice</span>
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">GlobalExceptionHandler</span> <span style="color:#088;font-weight:bold">extends</span> ResponseEntityExceptionHandler {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> MessageSource messageSource;



    <span style="color:#007">@ExceptionHandler</span>(<span style="color:#C00;font-weight:bold">Exception</span>.class)
    <span style="color:#088;font-weight:bold">public</span> ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">Object</span>&gt; handleAllException(<span style="color:#088;font-weight:bold">final</span> <span style="color:#C00;font-weight:bold">Exception</span> e) {
        ApiError apiError = <span style="color:#080;font-weight:bold">new</span> ApiError();
        apiError.setCode(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">500 INTERNAL_SERVER_ERROR</span><span style="color:#710">&quot;</span></span>);
        apiError.addMessage(e.getMessage());
        <span style="color:#080;font-weight:bold">return</span> ResponseEntity.internalServerError().body(apiError);
    }


}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> &lt;properties&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;
    &lt;/properties&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>spring:
  cloud:
    gateway:
      default-filters:
        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin
      globalcors:
          corsConfigurations:
            '[/**]':
              allowedOrigins: "*"
              allowedMethods: "*"
              allowedHeaders: "*"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>server.port=9090
spring.application.name=API-GATEWAY
eureka.instance.client.serviceUrl.defaultZone=http://localhost:8761/eureka/
management.endpoints.web.exposure.include=*

spring.cloud.gateway.routes[0].id=PRODUCT-SERVICE
spring.cloud.gateway.routes[0].uri=lb://PRODUCT-SERVICE
spring.cloud.gateway.routes[0].predicates[0]=Path=/prod

spring.cloud.gateway.routes[1].id=INVOICE-SERVICE
spring.cloud.gateway.routes[1].uri=lb://INVOICE-SERVICE
spring.cloud.gateway.routes[1].predicates[0]=Path=/invoice</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@SpringBootApplication
@EnableDiscoveryClient
public class ApiGatewayApplication {

    public static void main(String[] args) {
        SpringApplication.run(ApiGatewayApplication.class, args);
    }

}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>demo2</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> &lt;properties&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;
    &lt;/properties&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>   &lt;!-- for crud operations--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;!-- for mysql connection--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># database connection
spring.datasource.url=jdbc:mysql://localhost:3306/mydb
spring.datasource.username=root
spring.datasource.password=root

spring.jpa.hibernate.ddl-auto=update
spring.main.banner-mode=off
#logging.level.root=ERROR


spring.application.name=INVOICE-SERVICE

server.port=8080
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.hostname=localhost</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>import com.example.war.model.Invoice;
import org.springframework.data.jpa.repository.JpaRepository;

public interface InvoiceRepository extends JpaRepository&lt;Invoice, Integer&gt; {

}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@Entity
public class Invoice {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int invoice_no;
    private String ship_add;
    private String prod_name;
    private double price;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    @Autowired
    public InvoiceRestController(InvoiceRepository invoiceRepository, RestTemplate restTemplate) {
        this.invoiceRepository = invoiceRepository;
        this.restTemplate = restTemplate;
    }</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@CrossOrigin(origins = "*")
@RestController
public class InvoiceRestController {
    private final InvoiceRepository invoiceRepository;
    private final RestTemplate restTemplate;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    @PostMapping("/invoice")
    public Invoice postProduct(@RequestBody Invoice invoice) {
        System.out.println("hello");
        Object p = restTemplate.getForObject("http://PRODUCT-SERVICE/prod", Object.class);
        System.out.println(p);
        return invoiceRepository.save(invoice);
    }</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@SpringBootApplication
@EnableDiscoveryClient
public class WarApplication {
    public static void main(String[] args) {
        SpringApplication.run(WarApplication.class, args);
    }

    @Bean
    @LoadBalanced
    public RestTemplate restTemplate(){
        return new RestTemplate();
    }
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
        &lt;/dependency&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre> &lt;properties&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;
    &lt;/properties&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@SpringBootApplication
@EnableDiscoveryClient
public class ProductApplication {

    public static void main(String[] args) {
        SpringApplication.run(ProductApplication.class, args);
    }

}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@CrossOrigin(origins = "*")
@RestController
public class ProductRestController {

    @GetMapping("/prod")
    public Object postProduct() {
        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();
        map.put("name", "akshu");
        map.put("gender", "female");
        return map;
    }


}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>server.port=8081

spring.application.name=PRODUCT-SERVICE

eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.hostname=localhost</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>  &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;
        &lt;/dependency&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;properties&gt;
        &lt;java.version&gt;17&lt;/java.version&gt;
        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;
    &lt;/properties&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>@SpringBootApplication
@EnableEurekaServer
public class SerRegApplication {

    public static void main(String[] args) {
        SpringApplication.run(SerRegApplication.class, args);
    }

}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>server.port=8761
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false
spring.application.name=EUREKA-SERVER</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Configuration</span>
<span style="color:#007">@EnableWebSecurity</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">WebSecurityConfig</span> <span style="color:#088;font-weight:bold">extends</span> WebSecurityConfigurerAdapter {

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> BCryptPasswordEncoder bCryptPasswordEncoder() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> BCryptPasswordEncoder();
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> configure(HttpSecurity http) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        http.authorizeRequests()
                .antMatchers(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/showReg</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/index.html</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/registerUser</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/login</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/showLogin</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/login/*</span><span style="color:#710">&quot;</span></span>)
                .permitAll().antMatchers(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/admin/showAddFlight</span><span style="color:#710">&quot;</span></span>).hasAnyAuthority(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ADMIN</span><span style="color:#710">&quot;</span></span>).anyRequest().authenticated()
                .and().csrf().disable();
    }

}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">runwith springrunner.class
@webmvctest
Mvctest
    @Autowired
    Mockmvc

    @mockbean
    ProdRepo repo

    test()
        new prod() with filled
        add to list of product
        when(repo.findAll()).thenReturn(prod list)

        objectwriter = new objectmapper().writer().pretty()


        // get
        mockmvc.peform(get(&quot;/articles&quot;).contextPath(&quot;/prod&quot;))
        .andExcept(status().isok())
        .andExcept(content().json(objectwriter.writevallueas string(prod list )))


        // post
        when(repo.save(any())).thenReturn(prod list)
        mockmvc.peform(
            post(&quot;/articles&quot;)
            .contextPath(&quot;/prod&quot;)
            .contenttype(MediaType.app_json)
            .content(objectmapper.writevallueas string(prod single))
        )
        .andExcept(status().isok())
        .andExcept(content().json(objectwriter.writevallueas string(prod list )))

        // put
        when(repo.save(any())).thenReturn(prod list)

        mockmvc.peform(
            post(&quot;/articles&quot;)
            .contextPath(&quot;/prod&quot;)
            .contenttype(MediaType.app_json)
            .content(objectmapper.writevallueas string(prod single))
        )
        .andExcept(status().isok())
        .andExcept(content().json(objectwriter.writevallueas string(prod list )))



        // delete
        donothing.when(repo).deleteById(id);

        mockmvc.peform(
            delete(&quot;/articles&quot;)
            .contextPath(&quot;/prod&quot;)
        )
        .andExcept(status().isok())</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootTest</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">WarApplicationTests</span> {

    <span style="color:#007">@Test</span>
    <span style="color:#339;font-weight:bold">void</span> test1() {
        RestTemplate restTemplate = <span style="color:#080;font-weight:bold">new</span> RestTemplate();
        <span style="color:#0a8;font-weight:bold">String</span> url = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://localhost:8080/products/30</span><span style="color:#710">&quot;</span></span>;
        Product product = restTemplate.getForObject(url, Product.class);
        assertNotNull(product);
        assertEquals(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">dog</span><span style="color:#710">&quot;</span></span>,product.getName());
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_output_4">output</h3>
<div class="literalblock">
<div class="content">
<pre>org.opentest4j.AssertionFailedError:
Expected :dog
Actual   :cat</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Test</span>
<span style="color:#339;font-weight:bold">void</span> testPost() {
    RestTemplate restTemplate = <span style="color:#080;font-weight:bold">new</span> RestTemplate();
    <span style="color:#0a8;font-weight:bold">String</span> url = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://localhost:8080/products/</span><span style="color:#710">&quot;</span></span>;
    Product product = <span style="color:#080;font-weight:bold">new</span> Product();
    product.setId(<span style="color:#00D">50</span>);
    product.setName(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">saksham</span><span style="color:#710">&quot;</span></span>);
    product.setDescription(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>);
    product.setPrice(<span style="color:#60E">500d</span>);
    Product savedProduct = restTemplate.postForObject(url, product, Product.class);

    assertNotNull(savedProduct);
    assertEquals(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">saksham</span><span style="color:#710">&quot;</span></span>,savedProduct.getName());
}

<span style="color:#007">@Test</span>
<span style="color:#339;font-weight:bold">void</span> testPut() {
    RestTemplate restTemplate = <span style="color:#080;font-weight:bold">new</span> RestTemplate();
    <span style="color:#0a8;font-weight:bold">String</span> url = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://localhost:8080/products/30</span><span style="color:#710">&quot;</span></span>;
    Product product = restTemplate.getForObject(url, Product.class);
    <span style="color:#080;font-weight:bold">assert</span> product != <span style="color:#069">null</span>;
    product.setPrice(<span style="color:#60E">600d</span>);
    restTemplate.put(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://localhost:8080/products</span><span style="color:#710">&quot;</span></span>, product);
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>public interface StudentRepository extends CrudRepository&lt;Student, Long&gt; {

}

@Test
public void testCreateStudent() {

    Student student = new Student();
    student.setName("John");
    student.setCourse("Java Web Services");
    student.setFee(30d);

    studentRepository.save(student);
}


@Test
public void testFindStudentById() {
    Optional&lt;Student&gt; optionalStudent = studentRepository.findById(1l);
    if (optionalStudent.isPresent()) {
        Student student = optionalStudent.get();
        System.out.println(student);
    }
}

@Test
public void testUpdateStudent() {
    Optional&lt;Student&gt; optionalStudent = studentRepository.findById(3l);
    if (optionalStudent.isPresent()) {
        Student student = optionalStudent.get();
        student.setFee(40d);
        studentRepository.save(student);
    }
}

@Test
public void testDeleteStudent() {
    Student student = new Student();
    student.setId(1l);
    studentRepository.delete(student);
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.mail.javamail.MimeMessageHelper;
import org.springframework.stereotype.Component;

import javax.mail.MessagingException;
import javax.mail.internet.MimeMessage;

@Component
public class Email {

    private final JavaMailSender sender;

    @Autowired
    public Email(JavaMailSender sender) {
        this.sender = sender;
    }

    public void sendEmail(String toAddress, String subject, String body) {

        MimeMessage message = sender.createMimeMessage();
        MimeMessageHelper helper = new MimeMessageHelper(message);
        try {
            helper.setTo(toAddress);
            helper.setSubject(subject);
            helper.setText(body);
        } catch (MessagingException e) {
            e.printStackTrace();
        }

        sender.send(message);
    }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.controller</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RequestMapping</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RestController</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation</span>.*;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.service.UserService</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http.HttpStatus</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.http.ResponseEntity</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.ArrayList</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Arrays</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;


<span style="color:#007">@RestController</span>
<span style="color:#007">@RequestMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/api</span><span style="color:#710">&quot;</span></span>)
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">UserController</span> {
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> UserService userService;

    <span style="color:#777">//    upload:</span>
<span style="color:#777">//    dir: D:/Temporary/upload</span>
    <span style="color:#007">@PostMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/uploadFiles</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> ResponseEntity&lt;<span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt;&gt; uploadFiles(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">files</span><span style="color:#710">&quot;</span></span>) MultipartFile<span style="color:#339;font-weight:bold">[]</span> files) {

        <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; list = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;&gt;();
        <span style="color:#0a8;font-weight:bold">Arrays</span>.stream(files).forEach(file -&gt; {
            <span style="color:#0a8;font-weight:bold">String</span> url = userService.uploadFiles(file);
            list.add(url);
        });
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ResponseEntity&lt;&gt;(list, HttpStatus.OK);
    }
}

<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;


<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">UserService</span> {
    <span style="color:#0a8;font-weight:bold">String</span> uploadFiles(MultipartFile file);
}

<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo.service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.util.StringUtils</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Value</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.FileAlreadyExistsException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Files</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Path</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Paths</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Objects</span>;


<span style="color:#007">@Service</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">UserServiceImpl</span> <span style="color:#088;font-weight:bold">implements</span> UserService {


    <span style="color:#007">@Value</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${upload.dir}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadDir;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadFiles(MultipartFile file) {
        Path copyLocation;

        <span style="color:#0a8;font-weight:bold">String</span> fileName = file.getOriginalFilename();
        copyLocation = Paths.get(uploadDir + <span style="color:#0a8;font-weight:bold">File</span>.separator + StringUtils.cleanPath(Objects.requireNonNull(fileName)));

        <span style="color:#080;font-weight:bold">try</span> {
            Files.copy(file.getInputStream(), copyLocation);
            <span style="color:#080;font-weight:bold">return</span> copyLocation.toString();
        } <span style="color:#080;font-weight:bold">catch</span> (FileAlreadyExistsException e) {
            <span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> arr = fileName.split(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\\</span><span style="color:#D20">.</span><span style="color:#710">&quot;</span></span>);
            <span style="color:#0a8;font-weight:bold">String</span> finalFileName = arr[<span style="color:#00D">0</span>] + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">_</span><span style="color:#710">&quot;</span></span> + <span style="color:#0a8;font-weight:bold">System</span>.currentTimeMillis() + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">.</span><span style="color:#710">&quot;</span></span> + arr[<span style="color:#00D">1</span>];
            copyLocation = Paths.get(uploadDir + <span style="color:#0a8;font-weight:bold">File</span>.separator + StringUtils.cleanPath(finalFileName));

            <span style="color:#080;font-weight:bold">try</span> {
                Files.copy(file.getInputStream(), copyLocation);
            } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">IOException</span> ioException) {
                ioException.printStackTrace();
            }
            <span style="color:#080;font-weight:bold">return</span> copyLocation.toString();
        } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">Exception</span> e) {
            e.printStackTrace();
            <span style="color:#080;font-weight:bold">throw</span> <span style="color:#080;font-weight:bold">new</span> <span style="color:#C00;font-weight:bold">RuntimeException</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Could not store file </span><span style="color:#710">&quot;</span></span> + file.getOriginalFilename() + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">. Please try again!</span><span style="color:#710">&quot;</span></span>);
        }


    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.myupload811</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.ControllerAdvice</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.ExceptionHandler</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.servlet.ModelAndView</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.servlet.mvc.support.RedirectAttributes</span>;

<span style="color:#007">@ControllerAdvice</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">AppExceptionHandler</span> {

    <span style="color:#007">@ExceptionHandler</span>(FileStorageException.class)
    <span style="color:#088;font-weight:bold">public</span> ModelAndView handleException(FileStorageException exception, RedirectAttributes redirectAttributes) {

        ModelAndView mav = <span style="color:#080;font-weight:bold">new</span> ModelAndView();
        mav.addObject(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">message</span><span style="color:#710">&quot;</span></span>, exception.getMsg());
        mav.setViewName(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">error</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#080;font-weight:bold">return</span> mav;

    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.myupload811</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Value</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.util.StringUtils</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Files</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Path</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Paths</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.StandardCopyOption</span>;

<span style="color:#007">@Service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">FileService</span> {

    <span style="color:#777">// @Value(&quot;${app.upload.dir:${user.home}}&quot;)</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadDir = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">D:/Temporary/upload</span><span style="color:#710">&quot;</span></span>;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> uploadFile(MultipartFile file) {

        <span style="color:#080;font-weight:bold">try</span> {
            Path copyLocation = Paths.get(uploadDir + <span style="color:#0a8;font-weight:bold">File</span>.separator + StringUtils.cleanPath(file.getOriginalFilename()));
            Files.copy(file.getInputStream(), copyLocation, StandardCopyOption.REPLACE_EXISTING);
        } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">Exception</span> e) {
            e.printStackTrace();
            <span style="color:#080;font-weight:bold">throw</span> <span style="color:#080;font-weight:bold">new</span> FileStorageException(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Could not store file </span><span style="color:#710">&quot;</span></span> + file.getOriginalFilename() + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">. Please try again!</span><span style="color:#710">&quot;</span></span>);
        }
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.myupload811</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Autowired</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Value</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Controller</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.util.StringUtils</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.GetMapping</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.PostMapping</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation.RequestParam</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.servlet.mvc.support.RedirectAttributes</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Files</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Path</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Paths</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.StandardCopyOption</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Arrays</span>;

<span style="color:#007">@Controller</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">FileController</span> {

    <span style="color:#007">@Autowired</span>
    FileService fileService;

    <span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> index() {
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">upload</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@PostMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/uploadFile</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadFile(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">file</span><span style="color:#710">&quot;</span></span>) MultipartFile file, RedirectAttributes redirectAttributes) {

        fileService.uploadFile(file);

        redirectAttributes.addFlashAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">message</span><span style="color:#710">&quot;</span></span>,
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">You successfully uploaded </span><span style="color:#710">&quot;</span></span> + file.getOriginalFilename() + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">!</span><span style="color:#710">&quot;</span></span>);

        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">redirect:/</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@PostMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/uploadFiles</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadFiles(<span style="color:#007">@RequestParam</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">files</span><span style="color:#710">&quot;</span></span>) MultipartFile<span style="color:#339;font-weight:bold">[]</span> files, RedirectAttributes redirectAttributes) {

        <span style="color:#0a8;font-weight:bold">Arrays</span>.asList(files)
                .stream()
                .forEach(file -&gt; fileService.uploadFile(file));

        redirectAttributes.addFlashAttribute(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">message</span><span style="color:#710">&quot;</span></span>,
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">You successfully uploaded all files!</span><span style="color:#710">&quot;</span></span>);

        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">redirect:/</span><span style="color:#710">&quot;</span></span>;
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.myupload811</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">FileStorageException</span> <span style="color:#088;font-weight:bold">extends</span> <span style="color:#C00;font-weight:bold">RuntimeException</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#339;font-weight:bold">long</span> serialVersionUID = <span style="color:#00D">1L</span>;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> msg;

    <span style="color:#088;font-weight:bold">public</span> FileStorageException(<span style="color:#0a8;font-weight:bold">String</span> msg) {
        <span style="color:#950">this</span>.msg = msg;

    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getMsg() {
        <span style="color:#080;font-weight:bold">return</span> msg;
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span style="color:#34b">&lt;!DOCTYPE html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;html</span> <span style="color:#b48">xmlns:th</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://www.thymeleaf.org</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
<span style="color:#070;font-weight:bold">&lt;head&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;meta</span> <span style="color:#b48">charset</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">UTF-8</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;title&gt;</span>ERROR<span style="color:#070;font-weight:bold">&lt;/title&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/head&gt;</span>
<span style="color:#070;font-weight:bold">&lt;body&gt;</span>

<span style="color:#070;font-weight:bold">&lt;h1&gt;</span>Error!!!<span style="color:#070;font-weight:bold">&lt;/h1&gt;</span>

<span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">th:if</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${message}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;h2</span> <span style="color:#b48">th:text</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${message}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/div&gt;</span>


<span style="color:#070;font-weight:bold">&lt;/body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="html"><span style="color:#34b">&lt;!DOCTYPE html&gt;</span>
<span style="color:#070;font-weight:bold">&lt;html</span> <span style="color:#b48">xmlns:th</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">http://www.thymeleaf.org</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
<span style="color:#070;font-weight:bold">&lt;body&gt;</span>

<span style="color:#070;font-weight:bold">&lt;h1&gt;</span>Spring Boot File Upload Example<span style="color:#070;font-weight:bold">&lt;/h1&gt;</span>

<span style="color:#070;font-weight:bold">&lt;hr</span><span style="color:#070;font-weight:bold">/&gt;</span>

<span style="color:#070;font-weight:bold">&lt;h4&gt;</span>Upload Single File:<span style="color:#070;font-weight:bold">&lt;/h4&gt;</span>
<span style="color:#070;font-weight:bold">&lt;form</span> <span style="color:#b48">method</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">POST</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">th:action</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">@{/uploadFile}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">enctype</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">multipart/form-data</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">file</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">file</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span> <span style="color:#070;font-weight:bold">&lt;br</span><span style="color:#070;font-weight:bold">/&gt;</span><span style="color:#070;font-weight:bold">&lt;br</span><span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">submit</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Submit<span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/form&gt;</span>

<span style="color:#070;font-weight:bold">&lt;hr</span><span style="color:#070;font-weight:bold">/&gt;</span>

<span style="color:#070;font-weight:bold">&lt;h4&gt;</span>Upload Multiple Files:<span style="color:#070;font-weight:bold">&lt;/h4&gt;</span>
<span style="color:#070;font-weight:bold">&lt;form</span> <span style="color:#b48">method</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">POST</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">th:action</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">@{/uploadFiles}</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">enctype</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">multipart/form-data</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">file</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">files</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">multiple</span><span style="color:#070;font-weight:bold">/&gt;</span> <span style="color:#070;font-weight:bold">&lt;br</span><span style="color:#070;font-weight:bold">/&gt;</span><span style="color:#070;font-weight:bold">&lt;br</span><span style="color:#070;font-weight:bold">/&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;button</span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">submit</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>Submit<span style="color:#070;font-weight:bold">&lt;/button&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/form&gt;</span>

<span style="color:#070;font-weight:bold">&lt;hr</span><span style="color:#070;font-weight:bold">/&gt;</span>

<span style="color:#070;font-weight:bold">&lt;div</span> <span style="color:#b48">th:if</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${message}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;h2</span> <span style="color:#b48">th:text</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${message}</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/div&gt;</span>

<span style="color:#070;font-weight:bold">&lt;/body&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-thymeleaf<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_string_to_file_object">string to file object</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#950">this</span>.byteArrayResource = <span style="color:#080;font-weight:bold">new</span> ByteArrayResource(xmlString.getBytes()) {
            <span style="color:#007">@Override</span>
            <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getFilename() {
                <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">temp.xml</span><span style="color:#710">&quot;</span></span>;
            }
        };
        <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(byteArrayResource.getInputStream());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">[
    {
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>: <span style="color:#00D">1</span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">name</span><span style="color:#710">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">lavi</span><span style="color:#710">&quot;</span></span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">description</span><span style="color:#710">&quot;</span></span>: <span style="color:#069">null</span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">price</span><span style="color:#710">&quot;</span></span>: <span style="color:#60E">0.0</span>
    },
    {
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">id</span><span style="color:#710">&quot;</span></span>: <span style="color:#00D">2</span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">name</span><span style="color:#710">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">akshu</span><span style="color:#710">&quot;</span></span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">description</span><span style="color:#710">&quot;</span></span>: <span style="color:#069">null</span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">price</span><span style="color:#710">&quot;</span></span>: <span style="color:#60E">0.0</span>
    }
]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#0a8;font-weight:bold">String</span> message = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">{0} has to go to {1} in {2,date,dd/MM/yyyy} / {3}</span><span style="color:#710">&quot;</span></span>;
<span style="color:#0a8;font-weight:bold">String</span> formattedMessage = <span style="color:#0a8;font-weight:bold">MessageFormat</span>.format(message, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Richard</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">School</span><span style="color:#710">&quot;</span></span>, <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">Date</span>(), <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1days</span><span style="color:#710">&quot;</span></span>);
<span style="color:#0a8;font-weight:bold">System</span>.out.println(formattedMessage);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xml_to_pojo">xml to pojo</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">org.example</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.fasterxml.jackson.databind.SerializationFeature</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.fasterxml.jackson.dataformat.xml</span>.*;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.bind.annotation.XmlAttribute</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.BufferedWriter</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.FileWriter</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">POJOToXmlTest</span> {
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span> args<span style="color:#339;font-weight:bold">[]</span>) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        <span style="color:#080;font-weight:bold">try</span> {
            Person pojo = <span style="color:#080;font-weight:bold">new</span> Person();

            XmlMapper xmlMapper = <span style="color:#080;font-weight:bold">new</span> XmlMapper();
            xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);
            <span style="color:#0a8;font-weight:bold">String</span> str = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Helwewewelo jhguhg</span><span style="color:#b0b">\n</span><span style="color:#710">&quot;</span></span>;
            <span style="color:#0a8;font-weight:bold">BufferedWriter</span> writer = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">BufferedWriter</span>(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">FileWriter</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">simple_bean.xml</span><span style="color:#710">&quot;</span></span>));
            writer.write(str);
            xmlMapper.writeValue(writer, pojo);
            writer.close();



        } <span style="color:#080;font-weight:bold">catch</span>(<span style="color:#C00;font-weight:bold">Exception</span> e) {
            e.printStackTrace();
        }
    }
}
<span style="color:#777">// Person clas</span>
<span style="color:#777">//</span>
<span style="color:#007">@JacksonXmlRootElement</span>( localName = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">PersonData</span><span style="color:#710">&quot;</span></span>)
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Person</span> {

    <span style="color:#007">@JacksonXmlProperty</span>(isAttribute = <span style="color:#069">true</span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> xmlns = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">urn:stackify:jacksonxml</span><span style="color:#710">&quot;</span></span>;

    <span style="color:#007">@JacksonXmlProperty</span>(isAttribute = <span style="color:#069">true</span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> xmlns2 = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">akshu2</span><span style="color:#710">&quot;</span></span>;

    <span style="color:#007">@JacksonXmlProperty</span>(localName=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">cc:myFN</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> firstName;

    <span style="color:#007">@JacksonXmlProperty</span>(localName = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">cc:urn</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> lastName;

    <span style="color:#007">@JacksonXmlProperty</span>(isAttribute = <span style="color:#069">true</span>, localName = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">_id</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> address;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setFirstName(<span style="color:#0a8;font-weight:bold">String</span> firstName) {
        <span style="color:#950">this</span>.firstName = firstName;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setLastName(<span style="color:#0a8;font-weight:bold">String</span> lastName) {
        <span style="color:#950">this</span>.lastName = lastName;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setAddress(<span style="color:#0a8;font-weight:bold">String</span> address) {
        <span style="color:#950">this</span>.address = address;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_xml_validation">xml validation</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">org.example</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.XMLConstants</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.transform.stream.StreamSource</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.Schema</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.SchemaFactory</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.Validator</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXException</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">XMLValidation</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
        <span style="color:#0a8;font-weight:bold">System</span>.out.println(validateXMLSchema(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">src/main/java/org/example/person.xsd</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">src/main/java/org/example/test.xml</span><span style="color:#710">&quot;</span></span>));
    }
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">boolean</span> validateXMLSchema(<span style="color:#0a8;font-weight:bold">String</span> xsdPath, <span style="color:#0a8;font-weight:bold">String</span> xmlPath) {

        <span style="color:#080;font-weight:bold">try</span> {
            <span style="color:#0a8;font-weight:bold">SchemaFactory</span> factory =
                    <span style="color:#0a8;font-weight:bold">SchemaFactory</span>.newInstance(<span style="color:#0a8;font-weight:bold">XMLConstants</span>.W3C_XML_SCHEMA_NS_URI);
            <span style="color:#0a8;font-weight:bold">Schema</span> schema = factory.newSchema(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">File</span>(xsdPath));
            <span style="color:#0a8;font-weight:bold">Validator</span> validator = schema.newValidator();
            validator.validate(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">File</span>(xmlPath)));
        } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">IOException</span> | SAXException e) {
            <span style="color:#0a8;font-weight:bold">System</span>.out.println(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Exception: </span><span style="color:#710">&quot;</span></span> + e.getMessage());
            <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span>;
        }
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>;
    }
}

<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">org.example</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.bind.annotation</span>.*;

<span style="color:#007">@XmlRootElement</span>(name = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Student</span><span style="color:#710">&quot;</span></span>)
<span style="color:#007">@XmlAccessorType</span>(XmlAccessType.FIELD)
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Student</span> {

    <span style="color:#007">@XmlAttribute</span>
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> type;

    <span style="color:#007">@XmlElement</span>(name=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Name</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> name;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setType(<span style="color:#0a8;font-weight:bold">String</span> type) {
        <span style="color:#950">this</span>.type = type;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setName(<span style="color:#0a8;font-weight:bold">String</span> name) {
        <span style="color:#950">this</span>.name = name;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jwt">jwt</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.jwt</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.servlet.FilterChain</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.servlet.ServletException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.servlet.http.HttpServletRequest</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">jakarta.servlet.http.HttpServletResponse</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Autowired</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.annotation.Bean</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.context.annotation.Configuration</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.authentication.AuthenticationManager</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.authentication.UsernamePasswordAuthenticationToken</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.config.annotation.web.builders.HttpSecurity</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.config.annotation.web.configuration.EnableWebSecurity</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.config.http.SessionCreationPolicy</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.core.context.SecurityContextHolder</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.core.userdetails.User</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.core.userdetails.UserDetails</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.core.userdetails.UserDetailsService</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.core.userdetails.UsernameNotFoundException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.crypto.password.NoOpPasswordEncoder</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.crypto.password.PasswordEncoder</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.web.SecurityFilterChain</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.web.authentication.WebAuthenticationDetailsSource</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Component</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.bind.annotation</span>.*;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.filter.OncePerRequestFilter</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.ArrayList</span>;

<span style="color:#007">@RestController</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyController</span> {
    <span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> welcome() {
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">welcome</span><span style="color:#710">&quot;</span></span>;
    }

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">private</span> JwtUtil jwtUtil;


    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">private</span> CustomUserDetailService customUserDetailService;

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">private</span> AuthenticationManager authenticationManager;


    <span style="color:#007">@PostMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/token</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getToken(<span style="color:#007">@RequestBody</span> JWTRequest jwtRequest) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        <span style="color:#080;font-weight:bold">try</span> {
            <span style="color:#0a8;font-weight:bold">System</span>.out.println(jwtRequest);
            authenticationManager.authenticate(<span style="color:#080;font-weight:bold">new</span> UsernamePasswordAuthenticationToken(jwtRequest.getUsername(), jwtRequest.getPassword()));
        } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">Exception</span> e){
            e.printStackTrace();
            <span style="color:#080;font-weight:bold">throw</span> <span style="color:#080;font-weight:bold">new</span> <span style="color:#C00;font-weight:bold">Exception</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">bad credentials</span><span style="color:#710">&quot;</span></span>);
        }

        UserDetails userDetail = customUserDetailService.loadUserByUsername(jwtRequest.getUsername());
        <span style="color:#080;font-weight:bold">return</span> jwtUtil.generateToken(userDetail);
    }
}


<span style="color:#007">@Configuration</span>
<span style="color:#007">@EnableWebSecurity</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">SecurityConfig</span> {
    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">private</span> JwtFilter jwtFilter;

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> SecurityFilterChain filterChain(HttpSecurity http) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        http.csrf()
                .disable()
                .cors()
                .disable()
                .authorizeHttpRequests()
                .requestMatchers(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/token</span><span style="color:#710">&quot;</span></span>).permitAll()
                .anyRequest().authenticated()
                .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);

                http.addFilterAfter(jwtFilter, UsernamePasswordAuthenticationFilter.class);
        <span style="color:#080;font-weight:bold">return</span> http.build();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">Exception</span> {
        <span style="color:#080;font-weight:bold">return</span> authenticationConfiguration.getAuthenticationManager();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> PasswordEncoder passwordEncoder(){
        <span style="color:#080;font-weight:bold">return</span> NoOpPasswordEncoder.getInstance();
    }

}


<span style="color:#007">@Service</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">CustomUserDetailService</span> <span style="color:#088;font-weight:bold">implements</span> UserDetailsService {

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> UserDetails loadUserByUsername(<span style="color:#0a8;font-weight:bold">String</span> username) <span style="color:#088;font-weight:bold">throws</span> UsernameNotFoundException {
        <span style="color:#080;font-weight:bold">if</span> (username.equals(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sak</span><span style="color:#710">&quot;</span></span>)) {
            <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> User(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">sak</span><span style="color:#710">&quot;</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">123</span><span style="color:#710">&quot;</span></span>, <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;&gt;());
        } <span style="color:#080;font-weight:bold">else</span> {
            <span style="color:#080;font-weight:bold">throw</span> <span style="color:#080;font-weight:bold">new</span> UsernameNotFoundException(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">User name not found</span><span style="color:#710">&quot;</span></span>);
        }
    }
}

<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JWTRequest</span> {
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> username;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> password;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> toString() {
        <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">JWTRequest{</span><span style="color:#710">&quot;</span></span> +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">username='</span><span style="color:#710">&quot;</span></span> + username + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#b0b">\'</span><span style="color:#710">'</span></span> +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">, password='</span><span style="color:#710">&quot;</span></span> + password + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#b0b">\'</span><span style="color:#710">'</span></span> +
                <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">}</span><span style="color:#710">'</span></span>;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getUsername() {
        <span style="color:#080;font-weight:bold">return</span> username;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setUsername(<span style="color:#0a8;font-weight:bold">String</span> username) {
        <span style="color:#950">this</span>.username = username;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getPassword() {
        <span style="color:#080;font-weight:bold">return</span> password;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> setPassword(<span style="color:#0a8;font-weight:bold">String</span> password) {
        <span style="color:#950">this</span>.password = password;
    }
}

<span style="color:#007">@Component</span>
<span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JwtFilter</span> <span style="color:#088;font-weight:bold">extends</span> OncePerRequestFilter {

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">private</span> JwtUtil jwtUtil;

    <span style="color:#007">@Autowired</span>
    <span style="color:#088;font-weight:bold">private</span> CustomUserDetailService customUserDetailService;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">protected</span> <span style="color:#339;font-weight:bold">void</span> doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) <span style="color:#088;font-weight:bold">throws</span> ServletException, <span style="color:#C00;font-weight:bold">IOException</span> {
        <span style="color:#0a8;font-weight:bold">String</span> header = request.getHeader(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Authorization</span><span style="color:#710">&quot;</span></span>);
        <span style="color:#080;font-weight:bold">if</span> (header != <span style="color:#069">null</span> &amp;&amp; header.startsWith(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Bearer </span><span style="color:#710">&quot;</span></span>)){
            <span style="color:#0a8;font-weight:bold">String</span> token = header.substring(<span style="color:#00D">7</span>);
            <span style="color:#0a8;font-weight:bold">String</span> username = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>;
            <span style="color:#080;font-weight:bold">try</span> {
                username = jwtUtil.extractUsername(token);
            } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">Exception</span> e){
                e.printStackTrace();
            }
            UserDetails userDetails = customUserDetailService.loadUserByUsername(username);
            <span style="color:#080;font-weight:bold">if</span> (SecurityContextHolder.getContext().getAuthentication() == <span style="color:#069">null</span>){
                UsernamePasswordAuthenticationToken tok = <span style="color:#080;font-weight:bold">new</span> UsernamePasswordAuthenticationToken(userDetails, <span style="color:#069">null</span>, userDetails.getAuthorities());
                tok.setDetails(<span style="color:#080;font-weight:bold">new</span> WebAuthenticationDetailsSource().buildDetails(request));
                SecurityContextHolder.getContext().setAuthentication(tok);
            }
        }
        filterChain.doFilter(request,response);
    }


}

<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.jwt</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.jsonwebtoken.Claims</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.jsonwebtoken.Jwts</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">io.jsonwebtoken.SignatureAlgorithm</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.security.core.userdetails.UserDetails</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Date</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.HashMap</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Map</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.function.Function</span>;

<span style="color:#007">@Service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JwtUtil</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> SECRET_KEY = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">secret</span><span style="color:#710">&quot;</span></span>;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> extractUsername(<span style="color:#0a8;font-weight:bold">String</span> token) {
        <span style="color:#080;font-weight:bold">return</span> extractClaim(token, Claims::getSubject);
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">Date</span> extractExpiration(<span style="color:#0a8;font-weight:bold">String</span> token) {
        <span style="color:#080;font-weight:bold">return</span> extractClaim(token, Claims::getExpiration);
    }

    <span style="color:#088;font-weight:bold">public</span> &lt;T&gt; T extractClaim(<span style="color:#0a8;font-weight:bold">String</span> token, Function&lt;Claims, T&gt; claimsResolver) {
        <span style="color:#088;font-weight:bold">final</span> Claims claims = extractAllClaims(token);
        <span style="color:#080;font-weight:bold">return</span> claimsResolver.apply(claims);
    }
    <span style="color:#088;font-weight:bold">private</span> Claims extractAllClaims(<span style="color:#0a8;font-weight:bold">String</span> token) {
        <span style="color:#080;font-weight:bold">return</span> Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();
    }

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">Boolean</span> isTokenExpired(<span style="color:#0a8;font-weight:bold">String</span> token) {
        <span style="color:#080;font-weight:bold">return</span> extractExpiration(token).before(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">Date</span>());
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> generateToken(UserDetails userDetails) {
        <span style="color:#0a8;font-weight:bold">Map</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">Object</span>&gt; claims = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">HashMap</span>&lt;&gt;();
        <span style="color:#080;font-weight:bold">return</span> createToken(claims, userDetails.getUsername());
    }

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> createToken(<span style="color:#0a8;font-weight:bold">Map</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">Object</span>&gt; claims, <span style="color:#0a8;font-weight:bold">String</span> subject) {

        <span style="color:#080;font-weight:bold">return</span> Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">Date</span>(<span style="color:#0a8;font-weight:bold">System</span>.currentTimeMillis()))
                .setExpiration(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">Date</span>(<span style="color:#0a8;font-weight:bold">System</span>.currentTimeMillis() + <span style="color:#00D">1000</span> * <span style="color:#00D">60</span> * <span style="color:#00D">60</span> * <span style="color:#00D">10</span>))
                .signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">Boolean</span> validateToken(<span style="color:#0a8;font-weight:bold">String</span> token, UserDetails userDetails) {
        <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> username = extractUsername(token);
        <span style="color:#080;font-weight:bold">return</span> (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#F00;background-color:#FAA">#</span><span style="color:#080;font-weight:bold">if</span> (<span style="color:#F00;background-color:#FAA">$</span>{PACKAGE_NAME} &amp;&amp; <span style="color:#F00;background-color:#FAA">$</span>{PACKAGE_NAME} != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)<span style="color:#080;font-weight:bold">package</span> <span style="color:#F00;background-color:#FAA">$</span>{<span style="color:#707;font-weight:bold">PACKAGE_NAME</span>};<span style="color:#F00;background-color:#FAA">#</span>end
<span style="color:#F00;background-color:#FAA">#</span>set( <span style="color:#F00;background-color:#FAA">$</span>CamelCaseName = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">$NAME.substring(0,1).toLowerCase()$NAME.substring(1)</span><span style="color:#710">&quot;</span></span> )

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.RequiredArgsConstructor</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">lombok.extern.slf4j.Slf4j</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.util.StringUtils</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.beans.factory.annotation.Value</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.FileAlreadyExistsException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Files</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Path</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.nio.file.Paths</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.Objects</span>;


<span style="color:#007">@Service</span>
<span style="color:#007">@Slf4j</span>
<span style="color:#007">@RequiredArgsConstructor</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#F00;background-color:#FAA">$</span>{NAME}ServiceImpl <span style="color:#088;font-weight:bold">implements</span> <span style="color:#F00;background-color:#FAA">$</span>{NAME}Service{


  <span style="color:#007">@Value</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${upload.dir}</span><span style="color:#710">&quot;</span></span>)
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadDir;

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> uploadFiles(MultipartFile file) {
        Path copyLocation;

        <span style="color:#0a8;font-weight:bold">String</span> fileName = file.getOriginalFilename();
        copyLocation = Paths.get(uploadDir + <span style="color:#0a8;font-weight:bold">File</span>.separator + StringUtils.cleanPath(Objects.requireNonNull(fileName)));

        <span style="color:#080;font-weight:bold">try</span> {
            Files.copy(file.getInputStream(), copyLocation);
            <span style="color:#080;font-weight:bold">return</span> copyLocation.toString();
        } <span style="color:#080;font-weight:bold">catch</span> (FileAlreadyExistsException e) {
            <span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> arr = fileName.split(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#b0b">\\</span><span style="color:#D20">.</span><span style="color:#710">&quot;</span></span>);
            <span style="color:#0a8;font-weight:bold">String</span> finalFileName = arr[<span style="color:#00D">0</span>] + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">_</span><span style="color:#710">&quot;</span></span> + <span style="color:#0a8;font-weight:bold">System</span>.currentTimeMillis() + <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">.</span><span style="color:#710">&quot;</span></span> + arr[<span style="color:#00D">1</span>];
            copyLocation = Paths.get(uploadDir + <span style="color:#0a8;font-weight:bold">File</span>.separator + StringUtils.cleanPath(finalFileName));

            <span style="color:#080;font-weight:bold">try</span> {
                Files.copy(file.getInputStream(), copyLocation);
            } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">IOException</span> ioException) {
                ioException.printStackTrace();
            }
        } <span style="color:#080;font-weight:bold">catch</span> (<span style="color:#C00;font-weight:bold">Exception</span> e) {
            e.printStackTrace();
        }
        <span style="color:#080;font-weight:bold">return</span> copyLocation.toString();

    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#F00;background-color:#FAA">#</span><span style="color:#080;font-weight:bold">if</span> (<span style="color:#F00;background-color:#FAA">$</span>{PACKAGE_NAME} &amp;&amp; <span style="color:#F00;background-color:#FAA">$</span>{PACKAGE_NAME} != <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#710">&quot;</span></span>)<span style="color:#080;font-weight:bold">package</span> <span style="color:#F00;background-color:#FAA">$</span>{<span style="color:#707;font-weight:bold">PACKAGE_NAME</span>};<span style="color:#F00;background-color:#FAA">#</span>end
<span style="color:#F00;background-color:#FAA">#</span>set( <span style="color:#F00;background-color:#FAA">$</span>CamelCaseName = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">$NAME.substring(0,1).toLowerCase()$NAME.substring(1)</span><span style="color:#710">&quot;</span></span> )

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.web.multipart.MultipartFile</span>;


<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#F00;background-color:#FAA">$</span>{NAME}Service {
    <span style="color:#0a8;font-weight:bold">String</span> uploadFiles(MultipartFile file);
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Logger LOGGER = LoggerFactory.getLogger(ReservationController.class);

LOGGER.info("completeReservation()  " + request);</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>package com.bharath.flightreservation.util;

import java.io.FileNotFoundException;
import java.io.FileOutputStream;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Component;

import com.bharath.flightreservation.entities.Reservation;
import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Phrase;
import com.itextpdf.text.pdf.PdfPCell;
import com.itextpdf.text.pdf.PdfPTable;
import com.itextpdf.text.pdf.PdfWriter;

@Component
public class PDFGenerator {

    private static final Logger LOGGER = LoggerFactory.getLogger(PDFGenerator.class);


    public void generateItinerary(Reservation reservation, String filePath) {
        LOGGER.info("generateItinerary()");
        Document document = new Document();

        try {
            PdfWriter.getInstance(document, new FileOutputStream(filePath));

            document.open();

            document.add(generateTable(reservation));

            document.close();

        } catch (FileNotFoundException | DocumentException e) {
            LOGGER.error("Exception in generateItinerary " +e);
        }

    }

    private PdfPTable generateTable(Reservation reservation) {
        PdfPTable table = new PdfPTable(2);

        PdfPCell cell;

        cell = new PdfPCell(new Phrase("Flight Itinerary"));
        cell.setColspan(2);
        table.addCell(cell);

        cell = new PdfPCell(new Phrase("Flight Details"));
        cell.setColspan(2);
        table.addCell(cell);

        table.addCell("Airlines ");
        table.addCell(reservation.getFlight().getOperatingAirlines());

        table.addCell("Departure City");
        table.addCell(reservation.getFlight().getDepartureCity());

        table.addCell("Arrival City");
        table.addCell(reservation.getFlight().getArrivalCity());

        table.addCell("Flight Number");
        table.addCell(reservation.getFlight().getFlightNumber());

        table.addCell("Departure Date");
        table.addCell(reservation.getFlight().getDepartureCity());

        table.addCell("Departure Time");
        table.addCell(reservation.getFlight().getEstimatedDepartureTime().toString());

        cell = new PdfPCell(new Phrase("Passenger Details"));
        cell.setColspan(2);
        table.addCell(cell);

        table.addCell("First Name");
        table.addCell(reservation.getPassenger().getFirstName());

        table.addCell("Last Name");
        table.addCell(reservation.getPassenger().getLastName());

        table.addCell("Email");
        table.addCell(reservation.getPassenger().getEmail());

        table.addCell("Phone");
        table.addCell(reservation.getPassenger().getPhone());

        return table;
    }

}</pre>
</div>
</div>
<div class="paragraph">
<p>import org.jfree.chart.ChartFactory; import
org.jfree.chart.ChartUtilities; import org.jfree.chart.JFreeChart;
import org.jfree.data.general.DefaultPieDataset; import
org.springframework.stereotype.Component;</p>
</div>
<div class="paragraph">
<p>import java.io.File; import java.io.IOException; import java.util.List;</p>
</div>
<div class="paragraph">
<p>@Component public class Report \{ public void generatePieChart(String
path, List&lt;Object[]&gt; data) \{ DefaultPieDataset dataset = new
DefaultPieDataset();</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    for (Object[] objects : data) {
        dataset.setValue(objects[0].toString(), new Double(objects[1].toString()));
    }

    JFreeChart chart = ChartFactory.createPieChart("Location Type Report", dataset);

    try {
        ChartUtilities.saveChartAsJPEG(new File(path + "/pieChart.jpeg"), chart, 300, 300);
    } catch (IOException e) {
        e.printStackTrace();
    }

}</pre>
</div>
</div>
<div class="paragraph">
<p>}</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_service_design_pattern">Service design pattern</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_imports">Imports</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_class">Class</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">LocationService</span> { }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_field">Field</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> LocationRepository repository;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_constructor">constructor</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> LocationService(LocationRepository repository) {
    <span style="color:#950">this</span>.repository = repository;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_service_methods">Service methods</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_insert_2">insert</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> Location saveLocation(Location location) {
    <span style="color:#080;font-weight:bold">return</span> repository.save(location);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_display_2">display</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> Location getLocationById(<span style="color:#339;font-weight:bold">int</span> id) {
    Optional&lt;Location&gt; optionalLocation = repository.findById(id);
    <span style="color:#080;font-weight:bold">return</span> optionalLocation.orElse(<span style="color:#069">null</span>);
}

<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;Location&gt; getAllLocations() {
    <span style="color:#080;font-weight:bold">return</span> repository.findAll();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_delete">delete</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> deleteLocation(Location location) {
    repository.delete(location);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_update_2">update</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> updateLocation(Location location) {
    repository.save(location);
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.war</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.stereotype.Service</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.persistence.EntityManager</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.persistence.ParameterMode</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.persistence.PersistenceContext</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.persistence.StoredProcedureQuery</span>;

<span style="color:#007">@Service</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">LoginServiceImpl</span> {

    <span style="color:#007">@PersistenceContext</span>
    <span style="color:#088;font-weight:bold">private</span> EntityManager entityManager;

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">int</span> checkUsernameAndPassword(<span style="color:#0a8;font-weight:bold">String</span> username, <span style="color:#0a8;font-weight:bold">String</span> password, <span style="color:#339;font-weight:bold">int</span> price) {

        <span style="color:#777">//&quot;login&quot; this is the name of your procedure</span>
        StoredProcedureQuery query = entityManager.createStoredProcedureQuery(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">product</span><span style="color:#710">&quot;</span></span>);

        <span style="color:#777">//Declare the parameters in the same order</span>
        query.registerStoredProcedureParameter(<span style="color:#00D">1</span>, <span style="color:#0a8;font-weight:bold">String</span>.class, ParameterMode.IN);
        query.registerStoredProcedureParameter(<span style="color:#00D">2</span>, <span style="color:#0a8;font-weight:bold">String</span>.class, ParameterMode.IN);
        query.registerStoredProcedureParameter(<span style="color:#00D">3</span>, <span style="color:#0a8;font-weight:bold">Integer</span>.class, ParameterMode.IN);
        query.registerStoredProcedureParameter(<span style="color:#00D">4</span>, <span style="color:#0a8;font-weight:bold">Integer</span>.class, ParameterMode.OUT);

        <span style="color:#777">//Pass the parameter values</span>
        query.setParameter(<span style="color:#00D">1</span>, username);
        query.setParameter(<span style="color:#00D">2</span>, password);
        query.setParameter(<span style="color:#00D">3</span>, price);

        <span style="color:#777">//Execute query</span>
        query.execute();

        <span style="color:#777">//Get output parameters</span>
        <span style="color:#080;font-weight:bold">return</span> (<span style="color:#339;font-weight:bold">int</span>) query.getOutputParameterValue(<span style="color:#00D">4</span>);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_swagger">swagger</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_pom_6">pom</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>io.springfox<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>springfox-swagger2<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>2.9.2<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
<span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>io.springfox<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>springfox-swagger-ui<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;version&gt;</span>2.9.2<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_url">url</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">http://localhost:8080/swagger-ui.html
http://localhost:8080/v2/api-docs</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_swaggerconfig">SwaggerConfig</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Configuration</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">SwaggerConfig</span> {
    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> Docket api() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">com.example.war.entity</span><span style="color:#710">&quot;</span></span>))
                .paths(PathSelectors.regex(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/products.*</span><span style="color:#710">&quot;</span></span>))
                .build();
    }

    <span style="color:#007">@Bean</span>
    <span style="color:#088;font-weight:bold">public</span> ApiInfo apiInfo() {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ApiInfoBuilder().title(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Product API</span><span style="color:#710">&quot;</span></span>)
                .description(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Product crud operations</span><span style="color:#710">&quot;</span></span>)
                .termsOfServiceUrl(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">open source</span><span style="color:#710">&quot;</span></span>)
                .license(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Saksham license</span><span style="color:#710">&quot;</span></span>)
                .licenseUrl(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">www.google.com</span><span style="color:#710">&quot;</span></span>)
                .version(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">2.0</span><span style="color:#710">&quot;</span></span>)
                .build();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_apioperation">ApiOperation</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@ApiOperation</span>(value = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">get all products provided by saksham</span><span style="color:#710">&quot;</span></span>,
        notes = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">hello</span><span style="color:#710">&quot;</span></span>,
        response = Product.class,
        responseContainer = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">List</span><span style="color:#710">&quot;</span></span>,
        produces = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">application/json</span><span style="color:#710">&quot;</span></span>

)
<span style="color:#007">@GetMapping</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/products</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;Product&gt; getProducts() {
    <span style="color:#080;font-weight:bold">return</span> productRepository.findAll();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_main_5">Main</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@SpringBootApplication</span>
<span style="color:#007">@EnableSwagger2</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">WarApplication</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">void</span> main(<span style="color:#0a8;font-weight:bold">String</span><span style="color:#339;font-weight:bold">[]</span> args) {
        SpringApplication.run(WarApplication.class, args);
    }

}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>-validation
    validation-api
    hiberanate-validator

insert
insert(@Valid @ReqestBody Product product)

@NotNull
@size(max = 100)
@min(value = 1, message="must be more than 1")</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_xml_validation_in_java">XML validation in java</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_input">input</h3>
<div class="ulist">
<ul>
<li>
<p>xml</p>
</li>
<li>
<p>xsd</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_output_5">output</h3>
<div class="ulist">
<ul>
<li>
<p>valid</p>
</li>
<li>
<p>invalid - list of errors</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_solution">solution</h3>
<div class="ulist">
<ul>
<li>
<p>no external library</p>
</li>
<li>
<p>java17 spring boot</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_ide_shortcut">ide shortcut</h4>
<div class="ulist">
<ul>
<li>
<p>file:xmlValidation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_step_1_test">Step 1. test</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.exception.XSDValidationFailed</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.model.ApiError</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.junit.jupiter.api.Test</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXParseException</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">static</span> <span style="color:#B44;font-weight:bold">org.junit.jupiter.api.Assertions</span>.*;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">XmlValidatorUnitTest</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> BAELDUNG_XML_PATH = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">xml/validation/baeldung.xml</span><span style="color:#710">&quot;</span></span>;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> PERSON_XSD_PATH = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">xml/validation/person.xsd</span><span style="color:#710">&quot;</span></span>;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> FULL_PERSON_XSD_PATH = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">xml/validation/full-person.xsd</span><span style="color:#710">&quot;</span></span>;


    <span style="color:#007">@Test</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> givenInvalidXML_WhenListParsingExceptions_ThenHasThree() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, SAXException {
        <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; errorMsg = <span style="color:#080;font-weight:bold">new</span> XmlValidator(FULL_PERSON_XSD_PATH, BAELDUNG_XML_PATH).listParsingExceptions();
        <span style="color:#080;font-weight:bold">if</span> (errorMsg.size() != <span style="color:#00D">0</span>){
            <span style="color:#080;font-weight:bold">throw</span> <span style="color:#080;font-weight:bold">new</span> XSDValidationFailed( errorMsg);
        }
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_2_validator">Step 2. validator</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.example.demo.model.ApiError</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.slf4j.Logger</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.slf4j.LoggerFactory</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXParseException</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.XMLConstants</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.transform.Source</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.transform.stream.StreamSource</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.Schema</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.SchemaFactory</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.Validator</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.ArrayList</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">XmlValidator</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">Logger</span> LOGGER = LoggerFactory.getLogger(XmlValidator.class);

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> xsdPath;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> xmlPath;

    <span style="color:#088;font-weight:bold">public</span> XmlValidator(<span style="color:#0a8;font-weight:bold">String</span> xsdPath, <span style="color:#0a8;font-weight:bold">String</span> xmlPath) {
        <span style="color:#950">this</span>.xsdPath = xsdPath;
        <span style="color:#950">this</span>.xmlPath = xmlPath;
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">boolean</span> isValid() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, SAXException {
        <span style="color:#0a8;font-weight:bold">Validator</span> validator = initValidator(xsdPath);
        <span style="color:#080;font-weight:bold">try</span> {
            validator.validate(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(getFile(xmlPath)));
            <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>;
        } <span style="color:#080;font-weight:bold">catch</span> (SAXException e) {
            <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span>;
        }
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; listParsingExceptions() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, SAXException {
        XmlErrorHandler xsdErrorHandler = <span style="color:#080;font-weight:bold">new</span> XmlErrorHandler();
        <span style="color:#0a8;font-weight:bold">Validator</span> validator = initValidator(xsdPath);
        validator.setErrorHandler(xsdErrorHandler);
        <span style="color:#080;font-weight:bold">try</span> {
            validator.validate(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(getFile(xmlPath)));
        } <span style="color:#080;font-weight:bold">catch</span> (SAXParseException e) {}
        <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; msg = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;&gt;();
        xsdErrorHandler.getExceptions().forEach(e -&gt; {
            msg.add(e.getMessage());
            LOGGER.info(e.getMessage());
        });
        <span style="color:#080;font-weight:bold">return</span> msg;
    }

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">Validator</span> initValidator(<span style="color:#0a8;font-weight:bold">String</span> xsdPath) <span style="color:#088;font-weight:bold">throws</span> SAXException {
        <span style="color:#0a8;font-weight:bold">SchemaFactory</span> factory = <span style="color:#0a8;font-weight:bold">SchemaFactory</span>.newInstance(<span style="color:#0a8;font-weight:bold">XMLConstants</span>.W3C_XML_SCHEMA_NS_URI);
        <span style="color:#0a8;font-weight:bold">Source</span> schemaFile = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(getFile(xsdPath));
        <span style="color:#0a8;font-weight:bold">Schema</span> schema = factory.newSchema(schemaFile);
        <span style="color:#080;font-weight:bold">return</span> schema.newValidator();
    }

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">File</span> getFile(<span style="color:#0a8;font-weight:bold">String</span> location) {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">File</span>(getClass().getClassLoader().getResource(location).getFile());
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_2_1">2.1</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">com.example.demo</span>;


<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.slf4j.Logger</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.slf4j.LoggerFactory</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.springframework.core.io.ByteArrayResource</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXParseException</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.XMLConstants</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.transform.Source</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.transform.stream.StreamSource</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.Schema</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.SchemaFactory</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">javax.xml.validation.Validator</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.File</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.io.IOException</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.ArrayList</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">XmlValidator</span> {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">Logger</span> LOGGER = LoggerFactory.getLogger(XmlValidator.class);

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> xsdPath;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">String</span> xmlString;
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> ByteArrayResource byteArrayResource;

    <span style="color:#088;font-weight:bold">public</span> XmlValidator(<span style="color:#0a8;font-weight:bold">String</span> xsdPath, <span style="color:#0a8;font-weight:bold">String</span> xmlString) {
        <span style="color:#950">this</span>.xsdPath = xsdPath;
        <span style="color:#950">this</span>.xmlString = xmlString;
        <span style="color:#950">this</span>.byteArrayResource = <span style="color:#080;font-weight:bold">new</span> ByteArrayResource(xmlString.getBytes()) {
            <span style="color:#007">@Override</span>
            <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getFilename() {
                <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">temp.xml</span><span style="color:#710">&quot;</span></span>;
            }
        };
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">boolean</span> isValid() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, SAXException {
        <span style="color:#0a8;font-weight:bold">Validator</span> validator = initValidator(xsdPath);
        <span style="color:#080;font-weight:bold">try</span> {
            validator.validate(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(byteArrayResource.getInputStream()));
            <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">true</span>;
        } <span style="color:#080;font-weight:bold">catch</span> (SAXException e) {
            <span style="color:#080;font-weight:bold">return</span> <span style="color:#069">false</span>;
        }
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; listParsingExceptions() <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, SAXException {
        XmlErrorHandler xsdErrorHandler = <span style="color:#080;font-weight:bold">new</span> XmlErrorHandler();
        <span style="color:#0a8;font-weight:bold">Validator</span> validator = initValidator(xsdPath);
        validator.setErrorHandler(xsdErrorHandler);
        <span style="color:#080;font-weight:bold">try</span> {
            validator.validate(<span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(byteArrayResource.getInputStream()));
        } <span style="color:#080;font-weight:bold">catch</span> (SAXParseException e) {}
        <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>&gt; msg = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;&gt;();
        xsdErrorHandler.getExceptions().forEach(e -&gt; {
            msg.add(e.getMessage());
            LOGGER.info(e.getMessage());
        });
        <span style="color:#080;font-weight:bold">return</span> msg;
    }

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">Validator</span> initValidator(<span style="color:#0a8;font-weight:bold">String</span> xsdPath) <span style="color:#088;font-weight:bold">throws</span> SAXException {
        <span style="color:#0a8;font-weight:bold">SchemaFactory</span> factory = <span style="color:#0a8;font-weight:bold">SchemaFactory</span>.newInstance(<span style="color:#0a8;font-weight:bold">XMLConstants</span>.W3C_XML_SCHEMA_NS_URI);
        <span style="color:#0a8;font-weight:bold">Source</span> schemaFile = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">StreamSource</span>(getFile(xsdPath));
        <span style="color:#0a8;font-weight:bold">Schema</span> schema = factory.newSchema(schemaFile);
        <span style="color:#080;font-weight:bold">return</span> schema.newValidator();
    }

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">File</span> getFile(<span style="color:#0a8;font-weight:bold">String</span> location) {
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">File</span>(getClass().getClassLoader().getResource(location).getFile());
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_3_error_handler">Step 3. error handler</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.ErrorHandler</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.xml.sax.SAXParseException</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.ArrayList</span>;
<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">java.util.List</span>;

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">XmlErrorHandler</span> <span style="color:#088;font-weight:bold">implements</span> ErrorHandler {

    <span style="color:#088;font-weight:bold">private</span> <span style="color:#088;font-weight:bold">final</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;SAXParseException&gt; exceptions;

    <span style="color:#088;font-weight:bold">public</span> XmlErrorHandler() {
        <span style="color:#950">this</span>.exceptions = <span style="color:#080;font-weight:bold">new</span> <span style="color:#0a8;font-weight:bold">ArrayList</span>&lt;&gt;();
    }

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">List</span>&lt;SAXParseException&gt; getExceptions() {
        <span style="color:#080;font-weight:bold">return</span> exceptions;
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> warning(SAXParseException exception) {
        exceptions.add(exception);
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> error(SAXParseException exception) {
        exceptions.add(exception);
    }

    <span style="color:#007">@Override</span>
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">void</span> fatalError(SAXParseException exception) {
        exceptions.add(exception);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_4_xml">Step 4. xml</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#579">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span style="color:#070;font-weight:bold">&lt;individual&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;name&gt;</span>Baeldung<span style="color:#070;font-weight:bold">&lt;/name&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;address&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;zip&gt;</span>00001<span style="color:#070;font-weight:bold">&lt;/zip&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;city&gt;</span>New York<span style="color:#070;font-weight:bold">&lt;/city&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/address&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/individual&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_step_5_xsd">Step 5. xsd</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span style="color:#579">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span style="color:#070;font-weight:bold">&lt;individual&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;name&gt;</span>Baeldung<span style="color:#070;font-weight:bold">&lt;/name&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;address&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;zip&gt;</span>00001<span style="color:#070;font-weight:bold">&lt;/zip&gt;</span>
        <span style="color:#070;font-weight:bold">&lt;city&gt;</span>New York<span style="color:#070;font-weight:bold">&lt;/city&gt;</span>
    <span style="color:#070;font-weight:bold">&lt;/address&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/individual&gt;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span style="color:#007">@ExceptionHandler</span>(XSDValidationFailed.class)
    <span style="color:#088;font-weight:bold">public</span> ResponseEntity&lt;ApiError&gt; xSDValidationFailed(<span style="color:#088;font-weight:bold">final</span> XSDValidationFailed e) {
        ApiError apiError = <span style="color:#080;font-weight:bold">new</span> ApiError();
        apiError.setCode(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">500 XSD_VALIDATION_FAILED</span><span style="color:#710">&quot;</span></span>);
        e.getInvalidAges().forEach(apiError::addMessage);
        <span style="color:#080;font-weight:bold">return</span> ResponseEntity.internalServerError().body(apiError);
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-19 22:20:27 +0530
</div>
</div>
<script>
;(function () { /*! Asciidoctor Tabs | Copyright (c) 2018-present Dan Allen | MIT License */
  'use strict'

  var config = (document.currentScript || {}).dataset || {}
  var forEach = Array.prototype.forEach

  init(document.querySelectorAll('.tabs'))

  function init (tabsBlocks) {
    if (!tabsBlocks.length) return
    forEach.call(tabsBlocks, function (tabs) {
      var syncIds = tabs.classList.contains('is-sync') ? {} : undefined
      var tablist = tabs.querySelector('.tablist ul')
      tablist.setAttribute('role', 'tablist')
      var start
      forEach.call(tablist.querySelectorAll('li'), function (tab, idx) {
        tab.tabIndex = -1
        tab.setAttribute('role', tab.classList.add('tab') || 'tab')
        var id, anchor, syncId
        if (!(id = tab.id) && (anchor = tab.querySelector('a[id]'))) {
          id = tab.id = anchor.parentNode.removeChild(anchor).id
        }
        var panel = id && tabs.querySelector('.tabpanel[aria-labelledby~="' + id + '"]')
        if (!panel) return idx ? undefined : toggleSelected(tab, true) // invalid state
        syncIds && (((syncId = tab.textContent.trim()) in syncIds) ? (syncId = undefined) : true) &&
        (syncIds[(tab.dataset.syncId = syncId)] = tab)
        idx || (syncIds && (start = { tab: tab, panel: panel })) ? toggleHidden(panel, true) : toggleSelected(tab, true)
        tab.setAttribute('aria-controls', panel.id)
        panel.setAttribute('role', 'tabpanel')
        var onClick = syncId === undefined ? activateTab : activateTabSync
        tab.addEventListener('click', onClick.bind({ tabs: tabs, tab: tab, panel: panel }))
      })
      if (!tabs.closest('.tabpanel')) {
        forEach.call(tabs.querySelectorAll('.tabpanel table.tableblock'), function (table) {
          var container = Object.assign(document.createElement('div'), { className: 'tablecontainer' })
          table.parentNode.insertBefore(container, table).appendChild(table)
        })
      }
      if (start) {
        var syncGroupId
        for (var i = 0, lst = tabs.classList, len = lst.length, className; i !== len; i++) {
          if (!(className = lst.item(i)).startsWith('data-sync-group-id=')) continue
          tabs.dataset.syncGroupId = syncGroupId = lst.remove(className) || className.slice(19).replace(/\u00a0/g, ' ')
          break
        }
        if (syncGroupId === undefined) tabs.dataset.syncGroupId = syncGroupId = Object.keys(syncIds).sort().join('|')
        var preferredSyncId = 'syncStorageKey' in config &&
          window[(config.syncStorageScope || 'local') + 'Storage'].getItem(config.syncStorageKey + '-' + syncGroupId)
        var tab = preferredSyncId && syncIds[preferredSyncId]
        tab && Object.assign(start, { tab: tab, panel: document.getElementById(tab.getAttribute('aria-controls')) })
        toggleSelected(start.tab, true) || toggleHidden(start.panel, false)
      }
    })
    onHashChange()
    toggleClassOnEach(tabsBlocks, 'is-loading', 'remove')
    window.setTimeout(toggleClassOnEach.bind(null, tabsBlocks, 'is-loaded', 'add'), 0)
    window.addEventListener('hashchange', onHashChange)
  }

  function activateTab (e) {
    var tab = this.tab
    var tabs = this.tabs || (this.tabs = tab.closest('.tabs'))
    var panel = this.panel || (this.panel = document.getElementById(tab.getAttribute('aria-controls')))
    querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (el) {
      toggleSelected(el, el === tab)
    })
    querySelectorWithSiblings(tabs, '.tabpanel', 'tabpanel').forEach(function (el) {
      toggleHidden(el, el !== panel)
    })
    if (!this.isSync && 'syncStorageKey' in config && 'syncGroupId' in tabs.dataset) {
      var storageKey = config.syncStorageKey + '-' + tabs.dataset.syncGroupId
      window[(config.syncStorageScope || 'local') + 'Storage'].setItem(storageKey, tab.dataset.syncId)
    }
    if (!e) return
    var loc = window.location
    var hashIdx = loc.hash ? loc.href.indexOf('#') : -1
    if (~hashIdx) window.history.replaceState(null, '', loc.href.slice(0, hashIdx))
    e.preventDefault()
  }

  function activateTabSync (e) {
    activateTab.call(this, e)
    var thisTabs = this.tabs
    var thisTab = this.tab
    var initialY = thisTabs.getBoundingClientRect().y
    forEach.call(document.querySelectorAll('.tabs'), function (tabs) {
      if (tabs === thisTabs || tabs.dataset.syncGroupId !== thisTabs.dataset.syncGroupId) return
      querySelectorWithSiblings(tabs, '.tablist .tab', 'tab').forEach(function (tab) {
        if (tab.dataset.syncId === thisTab.dataset.syncId) activateTab.call({ tabs: tabs, tab: tab, isSync: true })
      })
    })
    var shiftedBy = thisTabs.getBoundingClientRect().y - initialY
    if (shiftedBy && (shiftedBy = Math.round(shiftedBy))) window.scrollBy({ top: shiftedBy, behavior: 'instant' })
  }

  function querySelectorWithSiblings (scope, selector, siblingClass) {
    var el = scope.querySelector(selector)
    if (!el) return []
    var result = [el]
    while ((el = el.nextElementSibling) && el.classList.contains(siblingClass)) result.push(el)
    return result
  }

  function toggleClassOnEach (elements, className, method) {
    forEach.call(elements, function (el) {
      el.classList[method](className)
    })
  }

  function toggleHidden (el, state) {
    el.classList[(el.hidden = state) ? 'add' : 'remove']('is-hidden')
  }

  function toggleSelected (el, state) {
    el.setAttribute('aria-selected', '' + state)
    el.classList[state ? 'add' : 'remove']('is-selected')
    el.tabIndex = state ? 0 : -1
  }

  function onHashChange () {
    var id = window.location.hash.slice(1)
    if (!id) return
    var tab = document.getElementById(~id.indexOf('%') ? decodeURIComponent(id) : id)
    if (!(tab && tab.classList.contains('tab'))) return
    'syncId' in tab.dataset ? activateTabSync.call({ tab: tab }) : activateTab.call({ tab: tab })
  }
})()
</script>
</body>
</html>